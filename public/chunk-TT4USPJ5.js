import{$ as g,$a as Ft,A as To,Aa as ke,B as xi,Ba as rt,Bb as xt,Ca as $o,Cb as ea,D as et,Da as Bo,Db as Rn,E as tt,Ea as jo,Eb as Qi,F as Rt,Fa as Vo,Fb as ta,G as Ui,Ga as Ho,Gb as Ue,H as nt,Ha as zo,Hb as er,I as Ro,Ia as Wo,Ib as Ut,J as Cn,Ja as ae,Jb as na,K as ve,Ka as Ki,Kb as $t,L as $i,La as Go,M as Oo,Ma as st,N as Po,Na as T,O as No,Oa as M,P as Q,Pa as qo,Q as ko,R as O,Ra as Ko,S as b,Sa as Yo,T as Mo,Ta as An,V as E,Va as Tn,W as ye,X as Fo,Xa as Yi,Y as A,Ya as Zo,Z as Bi,Za as Jo,_ as D,_a as Xo,a as f,aa as oe,ab as R,b as S,ba as Ot,bb as Me,ca as Pt,cb as L,d as Oe,da as Nt,db as ot,e as l,ea as De,f as Io,fa as it,fb as ce,g as _o,ga as kt,h as Oi,hb as Y,i as Pi,ia as Lo,ib as ue,j as Ni,ja as Sn,jb as Fe,k,ka as Pe,kb as Zi,l as V,la as bn,lb as Ji,m as Co,ma as ji,mb as Xi,n as So,na as Vi,o as me,oa as Hi,ob as Qo,p as ki,pa as zi,pb as Le,q as Mi,qa as K,qb as $,r as Fi,ra as Wi,s as q,sa as Mt,t as v,ta as Ne,tb as le,u as Tt,ua as xo,ub as xe,v as bo,va as Gi,w as Ao,wa as Uo,x as C,xa as Ee,y as Li,z as H,za as qi,zb as Lt}from"./chunk-YCXBB4AZ.js";var oa=null;function at(){return oa}function aa(t){oa??=t}var On=class{};var F=new A(""),ca=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(Pu),providedIn:"platform"});let t=e;return t})();var Pu=(()=>{let e=class e extends ca{constructor(){super(),this._doc=g(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return at().getBaseHref(this._doc)}onPopState(i){let r=at().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=at().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ua(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ia(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function $e(t){return t&&t[0]!=="?"?"?"+t:t}var ut=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(la),providedIn:"root"});let t=e;return t})(),Nu=new A(""),la=(()=>{let e=class e extends ut{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ua(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+$e(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+$e(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+$e(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(D(ca),D(Nu,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bt=(()=>{let e=class e{constructor(i){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=Fu(ia(ra(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+$e(r))}normalize(i){return e.stripTrailingSlash(Mu(this._basePath,ra(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$e(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$e(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=$e,e.joinWithSlash=ua,e.stripTrailingSlash=ia,e.\u0275fac=function(r){return new(r||e)(D(ut))},e.\u0275prov=E({token:e,factory:()=>ku(),providedIn:"root"});let t=e;return t})();function ku(){return new Bt(D(ut))}function Mu(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ra(t){return t.replace(/\/index.html$/,"")}function Fu(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function da(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var nr=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new tr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){sa("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){sa("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(M(Tn),M(qo))},e.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tr=class{constructor(){this.$implicit=null,this.ngIf=null}};function sa(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mo(e)}'.`)}var ha="browser",Lu="server";function ir(t){return t===Lu}var Pn=class{};var or=class extends On{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ar=class t extends or{static makeCurrent(){aa(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$u();return n==null?null:Bu(n)}resetBaseElement(){jt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return da(document.cookie,e)}},jt=null;function $u(){return jt=jt||document.querySelector("base"),jt?jt.getAttribute("href"):null}function Bu(t){return new URL(t,document.baseURI).pathname}var ju=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),cr=new A(""),ma=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(D(cr),D(R))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Nn=class{constructor(e){this._doc=e}},rr="ng-app-id",va=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ir(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${rr}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(rr),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(rr,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(D(F),D(Gi),D(qi,8),D(Ee))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),sr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lr=/%COMP%/g,ya="%COMP%",Vu=`_nghost-${ya}`,Hu=`_ngcontent-${ya}`,zu=!0,Wu=new A("",{providedIn:"root",factory:()=>zu});function Gu(t){return Hu.replace(lr,t)}function qu(t){return Vu.replace(lr,t)}function Da(t,e){return e.map(n=>n.replace(lr,t))}var fa=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=ir(c),this.defaultRenderer=new Vt(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r=S(f({},r),{encapsulation:Ot.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof kn?s.applyToHost(i):s instanceof Ht&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Ot.Emulated:o=new kn(u,d,r,this.appId,h,a,c,p);break;case Ot.ShadowDom:return new ur(u,d,i,r,a,c,this.nonce,p);default:o=new Ht(u,d,r,h,a,c,p);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(D(ma),D(va),D(Gi),D(Wu),D(F),D(Ee),D(R),D(qi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Vt=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(sr[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pa(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(pa(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new b(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=sr[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=sr[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(st.DashCase|st.Important)?e.style.setProperty(n,i,r&st.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&st.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=at().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pa(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ur=class extends Vt{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Da(r.id,r.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ht=class extends Vt{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?Da(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kn=class extends Ht{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=Gu(u),this.hostAttr=qu(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Ku=(()=>{let e=class e extends Nn{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(D(F))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ga=["alt","control","meta","shift"],Yu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ju=(()=>{let e=class e extends Nn{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>at().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),ga.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=Yu[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ga.forEach(a=>{if(a!==s){let c=Zu[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(D(F))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function pv(t,e){return na(f({rootComponent:t},Xu(e)))}function Xu(t){return{appProviders:[...il,...t?.providers??[]],platformProviders:nl}}function Qu(){ar.makeCurrent()}function el(){return new Wi}function tl(){return xo(document),document}var nl=[{provide:Ee,useValue:ha},{provide:Uo,useValue:Qu,multi:!0},{provide:F,useFactory:tl,deps:[]}];var il=[{provide:Lo,useValue:"root"},{provide:Wi,useFactory:el,deps:[]},{provide:cr,useClass:Ku,multi:!0,deps:[F,R,Ee]},{provide:cr,useClass:Ju,multi:!0,deps:[F]},fa,va,ma,{provide:Yo,useExisting:fa},{provide:Pn,useClass:ju,deps:[]},[]];var Ea=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(D(F))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=D(rl),s},providedIn:"root"});let t=e;return t})(),rl=(()=>{let e=class e extends dr{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case ae.NONE:return r;case ae.HTML:return rt(r,"HTML")?ke(r):Wo(this._doc,String(r)).toString();case ae.STYLE:return rt(r,"Style")?ke(r):r;case ae.SCRIPT:if(rt(r,"Script"))return ke(r);throw new b(5200,!1);case ae.URL:return rt(r,"URL")?ke(r):zo(String(r));case ae.RESOURCE_URL:if(rt(r,"ResourceURL"))return ke(r);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(i){return $o(i)}bypassSecurityTrustStyle(i){return Bo(i)}bypassSecurityTrustScript(i){return jo(i)}bypassSecurityTrustUrl(i){return Vo(i)}bypassSecurityTrustResourceUrl(i){return Ho(i)}};e.\u0275fac=function(r){return new(r||e)(D(F))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y="primary",sn=Symbol("RouteTitle"),mr=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function pt(t){return new mr(t)}function sl(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ol(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ee(t[n],e[n]))return!1;return!0}function ee(t,e){let n=t?vr(t):void 0,i=e?vr(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Aa(t[r],e[r]))return!1;return!0}function vr(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Aa(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function Ta(t){return t.length>0?t[t.length-1]:null}function Ce(t){return bo(t)?t:Qi(t)?q(Promise.resolve(t)):v(t)}var al={exact:Oa,subset:Pa},Ra={exact:cl,subset:ul,ignored:()=>!0};function Ia(t,e,n){return al[n.paths](t.root,e.root,n.matrixParams)&&Ra[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cl(t,e){return ee(t,e)}function Oa(t,e,n){if(!je(t.segments,e.segments)||!Ln(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Oa(t.children[i],e.children[i],n))return!1;return!0}function ul(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Aa(t[n],e[n]))}function Pa(t,e,n){return Na(t,e,e.segments,n)}function Na(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!je(r,n)||e.hasChildren()||!Ln(r,n,i))}else if(t.segments.length===n.length){if(!je(t.segments,n)||!Ln(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Pa(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!je(t.segments,r)||!Ln(t.segments,r,i)||!t.children[y]?!1:Na(t.children[y],e,s,i)}}function Ln(t,e,n){return e.every((i,r)=>Ra[n](t[r].parameters,i.parameters))}var we=class{constructor(e=new I([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=pt(this.queryParams),this._queryParamMap}toString(){return hl.serialize(this)}},I=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}},Be=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=pt(this.parameters),this._parameterMap}toString(){return Ma(this)}};function ll(t,e){return je(t,e)&&t.every((n,i)=>ee(n.parameters,e[i].parameters))}function je(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function dl(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===y&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==y&&(n=n.concat(e(r,i)))}),n}var Hr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>new $n,providedIn:"root"});let t=e;return t})(),$n=class{parse(e){let n=new Dr(e);return new we(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zt(e.root,!0)}`,i=gl(e.queryParams),r=typeof e.fragment=="string"?`#${fl(e.fragment)}`:"";return`${n}${i}${r}`}},hl=new $n;function xn(t){return t.segments.map(e=>Ma(e)).join("/")}function zt(t,e){if(!t.hasChildren())return xn(t);if(e){let n=t.children[y]?zt(t.children[y],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==y&&i.push(`${r}:${zt(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=dl(t,(i,r)=>r===y?[zt(t.children[y],!1)]:[`${r}:${zt(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[y]!=null?`${xn(t)}/${n[0]}`:`${xn(t)}/(${n.join("//")})`}}function ka(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mn(t){return ka(t).replace(/%3B/gi,";")}function fl(t){return encodeURI(t)}function yr(t){return ka(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Un(t){return decodeURIComponent(t)}function _a(t){return Un(t.replace(/\+/g,"%20"))}function Ma(t){return`${yr(t.path)}${pl(t.parameters)}`}function pl(t){return Object.entries(t).map(([e,n])=>`;${yr(e)}=${yr(n)}`).join("")}function gl(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Mn(n)}=${Mn(r)}`).join("&"):`${Mn(n)}=${Mn(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ml=/^[^\/()?;#]+/;function hr(t){let e=t.match(ml);return e?e[0]:""}var vl=/^[^\/()?;=#]+/;function yl(t){let e=t.match(vl);return e?e[0]:""}var Dl=/^[^=?&#]+/;function El(t){let e=t.match(Dl);return e?e[0]:""}var wl=/^[^&#]+/;function Il(t){let e=t.match(wl);return e?e[0]:""}var Dr=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new I([],{}):new I([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[y]=new I(e,n)),i}parseSegment(){let e=hr(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Be(Un(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yl(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=hr(this.remaining);r&&(i=r,this.capture(i))}e[Un(n)]=Un(i)}parseQueryParam(e){let n=El(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Il(this.remaining);o&&(i=o,this.capture(i))}let r=_a(n),s=_a(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=hr(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new b(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[y]:new I([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function Fa(t){return t.segments.length>0?new I([],{[y]:t}):t}function La(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=La(r);if(i===y&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new I(t.segments,e);return _l(n)}function _l(t){if(t.numberOfChildren===1&&t.children[y]){let e=t.children[y];return new I(t.segments.concat(e.segments),e.children)}return t}function gt(t){return t instanceof we}function Cl(t,e,n=null,i=null){let r=xa(t);return Ua(r,e,n,i)}function xa(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new I(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=Fa(i);return e??r}function Ua(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return fr(r,r,r,n,i);let s=Sl(e);if(s.toRoot())return fr(r,r,new I([],{}),n,i);let o=bl(s,r,t),a=o.processChildren?qt(o.segmentGroup,o.index,s.commands):Ba(o.segmentGroup,o.index,s.commands);return fr(r,o.segmentGroup,a,n,i)}function Bn(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zt(t){return typeof t=="object"&&t!=null&&t.outlets}function fr(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=$a(t,e,n);let a=Fa(La(o));return new we(a,s,r)}function $a(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=$a(s,e,n)}),new I(t.segments,i)}var jn=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Bn(i[0]))throw new b(4003,!1);let r=i.find(Zt);if(r&&r!==Ta(i))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Sl(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jn(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new jn(n,e,i)}var ht=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function bl(t,e,n){if(t.isAbsolute)return new ht(e,!0,0);if(!n)return new ht(e,!1,NaN);if(n.parent===null)return new ht(n,!0,0);let i=Bn(t.commands[0])?0:1,r=n.segments.length-1+i;return Al(n,r,t.numberOfDoubleDots)}function Al(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new b(4005,!1);r=i.segments.length}return new ht(i,!1,r-s)}function Tl(t){return Zt(t[0])?t[0].outlets:{[y]:t}}function Ba(t,e,n){if(t??=new I([],{}),t.segments.length===0&&t.hasChildren())return qt(t,e,n);let i=Rl(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new I(t.segments.slice(0,i.pathIndex),{});return s.children[y]=new I(t.segments.slice(i.pathIndex),t.children),qt(s,0,r)}else return i.match&&r.length===0?new I(t.segments,{}):i.match&&!t.hasChildren()?Er(t,e,n):i.match?qt(t,0,r):Er(t,e,n)}function qt(t,e,n){if(n.length===0)return new I(t.segments,{});{let i=Tl(n),r={};if(Object.keys(i).some(s=>s!==y)&&t.children[y]&&t.numberOfChildren===1&&t.children[y].segments.length===0){let s=qt(t.children[y],e,n);return new I(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Ba(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new I(t.segments,r)}}function Rl(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Zt(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Sa(c,u,o))return s;i+=2}else{if(!Sa(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Er(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Zt(s)){let c=Ol(s.outlets);return new I(i,c)}if(r===0&&Bn(n[0])){let c=t.segments[e];i.push(new Be(c.path,Ca(n[0]))),r++;continue}let o=Zt(s)?s.outlets[y]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Bn(a)?(i.push(new Be(o,Ca(a))),r+=2):(i.push(new Be(o,{})),r++)}return new I(i,{})}function Ol(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Er(new I([],{}),0,i))}),e}function Ca(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function Sa(t,e,n){return t==n.path&&ee(e,n.parameters)}var Kt="imperative",P=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(P||{}),z=class{constructor(e,n){this.id=e,this.url=n}},Jt=class extends z{constructor(e,n,i="imperative",r=null){super(e,n),this.type=P.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ie=class extends z{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=P.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},j=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(j||{}),wr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(wr||{}),_e=class extends z{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=P.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ve=class extends z{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=P.NavigationSkipped}},Xt=class extends z{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=P.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vn=class extends z{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=P.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ir=class extends z{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=P.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_r=class extends z{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=P.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cr=class extends z{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=P.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sr=class extends z{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=P.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},br=class{constructor(e){this.route=e,this.type=P.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ar=class{constructor(e){this.route=e,this.type=P.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tr=class{constructor(e){this.snapshot=e,this.type=P.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rr=class{constructor(e){this.snapshot=e,this.type=P.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Or=class{constructor(e){this.snapshot=e,this.type=P.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pr=class{constructor(e){this.snapshot=e,this.type=P.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qt=class{},en=class{constructor(e){this.url=e}};var Nr=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kn,this.attachRef=null}},Kn=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Nr,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kr(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=kr(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Mr(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Mr(e,this._root).map(n=>n.value)}};function kr(t,e){if(t===e.value)return e;for(let n of e.children){let i=kr(t,n);if(i)return i}return null}function Mr(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Mr(t,n);if(i.length)return i.unshift(e),i}return[]}var B=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function dt(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zn=class extends Hn{constructor(e,n){super(e),this.snapshot=n,Wr(this,e)}toString(){return this.snapshot.toString()}};function ja(t){let e=Pl(t),n=new V([new Be("",{})]),i=new V({}),r=new V({}),s=new V({}),o=new V(""),a=new He(n,i,s,o,r,y,t,e.root);return a.snapshot=e.root,new zn(new B(a,[]),e)}function Pl(t){let e={},n={},i={},r="",s=new tn([],e,i,r,n,y,t,null,{});return new Wn("",new B(s,[]))}var He=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(C(u=>u[sn]))??v(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(C(e=>pt(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(C(e=>pt(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zr(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:f(f({},e.params),t.params),data:f(f({},e.data),t.data),resolve:f(f(f(f({},t.data),e.data),r?.data),t._resolvedData)}:i={params:f({},t.params),data:f({},t.data),resolve:f(f({},t.data),t._resolvedData??{})},r&&Ha(r)&&(i.resolve[sn]=r.title),i}var tn=class{get title(){return this.data?.[sn]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pt(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wn=class extends Hn{constructor(e,n){super(n),this.url=e,Wr(this,n)}toString(){return Va(this._root)}};function Wr(t,e){e.value._routerState=t,e.children.forEach(n=>Wr(t,n))}function Va(t){let e=t.children.length>0?` { ${t.children.map(Va).join(", ")} } `:"";return`${t.value}${e}`}function pr(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ee(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ee(e.params,n.params)||t.paramsSubject.next(n.params),ol(e.url,n.url)||t.urlSubject.next(n.url),ee(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fr(t,e){let n=ee(t.params,e.params)&&ll(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Fr(t.parent,e.parent))}function Ha(t){return typeof t.title=="string"||t.title===null}var Nl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=y,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=g(Kn),this.location=g(Tn),this.changeDetector=g(Ut),this.environmentInjector=g(Sn),this.inputBinder=g(Gr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Lr(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bn]});let t=e;return t})(),Lr=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===He?this.route:e===Kn?this.childContexts:this.parent.get(e,n)}},Gr=new A("");function kl(t,e,n){let i=nn(t,e._root,n?n._root:void 0);return new zn(i,e)}function nn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Ml(t,e,n);return new B(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nn(t,a)),o}}let i=Fl(e.value),r=e.children.map(s=>nn(t,s));return new B(i,r)}}function Ml(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return nn(t,i,r);return nn(t,i)})}function Fl(t){return new He(new V(t.url),new V(t.params),new V(t.queryParams),new V(t.fragment),new V(t.data),t.outlet,t.component,t)}var za="ngNavigationCancelingError";function Wa(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=gt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ga(!1,j.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Ga(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[za]=!0,n.cancellationCode=e,n}function Ll(t){return qa(t)&&gt(t.url)}function qa(t){return!!t&&t[za]}var xl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Lt],decls:1,vars:0,template:function(r,s){r&1&&Fe(0,"router-outlet")},dependencies:[Nl],encapsulation:2});let t=e;return t})();function Ul(t,e){return t.providers&&!t._injector&&(t._injector=Jo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qr(t){let e=t.children&&t.children.map(qr),n=e?S(f({},t),{children:e}):f({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==y&&(n.component=xl),n}function te(t){return t.outlet||y}function $l(t,e){let n=t.filter(i=>te(i)===e);return n.push(...t.filter(i=>te(i)!==e)),n}function on(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bl=(t,e,n,i)=>C(r=>(new xr(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),xr=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),pr(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=dt(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=dt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=dt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=dt(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Pr(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rr(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(pr(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pr(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=on(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Gn=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ft=class{constructor(e,n){this.component=e,this.route=n}};function jl(t,e,n){let i=t._root,r=e?e._root:null;return Wt(i,r,n,[i.value])}function Vl(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vt(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!Fo(t)?t:e.get(t):i}function Wt(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=dt(e);return t.children.forEach(o=>{Hl(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yt(a,n.getContext(o),r)),r}function Hl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=zl(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Gn(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wt(t,e,a?a.children:null,i,r):Wt(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ft(a.outlet.component,o))}else o&&Yt(e,a,r),r.canActivateChecks.push(new Gn(i)),s.component?Wt(t,null,a?a.children:null,i,r):Wt(t,null,n,i,r);return r}function zl(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!je(t.url,e.url);case"pathParamsOrQueryParamsChange":return!je(t.url,e.url)||!ee(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr(t,e)||!ee(t.queryParams,e.queryParams);case"paramsChange":default:return!Fr(t,e)}}function Yt(t,e,n){let i=dt(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Yt(o,e.children.getContext(s),n):Yt(o,null,n):Yt(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ft(e.outlet.component,r)):n.canDeactivateChecks.push(new ft(null,r)):n.canDeactivateChecks.push(new ft(null,r))}function an(t){return typeof t=="function"}function Wl(t){return typeof t=="boolean"}function Gl(t){return t&&an(t.canLoad)}function ql(t){return t&&an(t.canActivate)}function Kl(t){return t&&an(t.canActivateChild)}function Yl(t){return t&&an(t.canDeactivate)}function Zl(t){return t&&an(t.canMatch)}function Ka(t){return t instanceof Ao||t?.name==="EmptyError"}var Fn=Symbol("INITIAL_VALUE");function mt(){return Q(t=>Li(t.map(e=>e.pipe(nt(1),No(Fn)))).pipe(C(e=>{for(let n of e)if(n!==!0){if(n===Fn)return Fn;if(n===!1||n instanceof we)return n}return!0}),et(e=>e!==Fn),nt(1)))}function Jl(t,e){return H(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?v(S(f({},n),{guardsResult:!0})):Xl(o,i,r,t).pipe(H(a=>a&&Wl(a)?Ql(i,s,t,e):v(a)),C(a=>S(f({},n),{guardsResult:a})))})}function Xl(t,e,n,i){return q(t).pipe(H(r=>rd(r.component,r.route,n,e,i)),ve(r=>r!==!0,!0))}function Ql(t,e,n,i){return q(e).pipe(Rt(r=>To(td(r.route.parent,i),ed(r.route,i),id(t,r.path,n),nd(t,r.route,n))),ve(r=>r!==!0,!0))}function ed(t,e){return t!==null&&e&&e(new Or(t)),v(!0)}function td(t,e){return t!==null&&e&&e(new Tr(t)),v(!0)}function nd(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return v(!0);let r=i.map(s=>xi(()=>{let o=on(e)??n,a=vt(s,o),c=ql(a)?a.canActivate(e,t):Pe(o,()=>a(e,t));return Ce(c).pipe(ve())}));return v(r).pipe(mt())}function id(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Vl(o)).filter(o=>o!==null).map(o=>xi(()=>{let a=o.guards.map(c=>{let u=on(o.node)??n,d=vt(c,u),h=Kl(d)?d.canActivateChild(i,t):Pe(u,()=>d(i,t));return Ce(h).pipe(ve())});return v(a).pipe(mt())}));return v(s).pipe(mt())}function rd(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=on(e)??r,u=vt(a,c),d=Yl(u)?u.canDeactivate(t,e,n,i):Pe(c,()=>u(t,e,n,i));return Ce(d).pipe(ve())});return v(o).pipe(mt())}function sd(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return v(!0);let s=r.map(o=>{let a=vt(o,t),c=Gl(a)?a.canLoad(e,n):Pe(t,()=>a(e,n));return Ce(c)});return v(s).pipe(mt(),Ya(i))}function Ya(t){return _o(O(e=>{if(gt(e))throw Wa(t,e)}),C(e=>e===!0))}function od(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return v(!0);let s=r.map(o=>{let a=vt(o,t),c=Zl(a)?a.canMatch(e,n):Pe(t,()=>a(e,n));return Ce(c)});return v(s).pipe(mt(),Ya(i))}var rn=class{constructor(e){this.segmentGroup=e||null}},qn=class extends Error{constructor(e){super(),this.urlTree=e}};function lt(t){return Tt(new rn(t))}function ad(t){return Tt(new b(4e3,!1))}function cd(t){return Tt(Ga(!1,j.GuardRejected))}var Ur=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return v(i);if(r.numberOfChildren>1||!r.children[y])return ad(e.redirectTo);r=r.children[y]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new qn(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new we(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new I(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new b(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},$r={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ud(t,e,n,i,r){let s=Kr(t,e,n);return s.matched?(i=Ul(e,i),od(i,e,n,r).pipe(C(o=>o===!0?s:f({},$r)))):v(s)}function Kr(t,e,n){if(e.path==="**")return ld(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?f({},$r):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||sl)(n,t,e);if(!r)return f({},$r);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?f(f({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function ld(t){return{matched:!0,parameters:t.length>0?Ta(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ba(t,e,n,i){return n.length>0&&fd(t,n,i)?{segmentGroup:new I(e,hd(i,new I(n,t.children))),slicedSegments:[]}:n.length===0&&pd(t,n,i)?{segmentGroup:new I(t.segments,dd(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new I(t.segments,t.children),slicedSegments:n}}function dd(t,e,n,i){let r={};for(let s of n)if(Yn(t,e,s)&&!i[te(s)]){let o=new I([],{});r[te(s)]=o}return f(f({},i),r)}function hd(t,e){let n={};n[y]=e;for(let i of t)if(i.path===""&&te(i)!==y){let r=new I([],{});n[te(i)]=r}return n}function fd(t,e,n){return n.some(i=>Yn(t,e,i)&&te(i)!==y)}function pd(t,e,n){return n.some(i=>Yn(t,e,i))}function Yn(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gd(t,e,n,i){return te(t)!==i&&(i===y||!Yn(e,n,t))?!1:Kr(e,t,n).matched}function md(t,e,n){return e.length===0&&!t.children[n]}var Br=class{};function vd(t,e,n,i,r,s,o="emptyOnly"){return new jr(t,e,n,i,r,o,s).recognize()}var yd=31,jr=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ur(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=ba(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(C(n=>{let i=new tn([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,{},y,this.rootComponentType,null,{}),r=new B(i,n),s=new Wn("",r),o=Cl(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,y).pipe(tt(i=>{if(i instanceof qn)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof rn?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=zr(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(C(s=>s instanceof B?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return q(r).pipe(Rt(s=>{let o=i.children[s],a=$l(n,s);return this.processSegmentGroup(e,a,o,s)}),Po((s,o)=>(s.push(...o),s)),Ui(null),Oo(),H(s=>{if(s===null)return lt(i);let o=Za(s);return Dd(o),v(o)}))}processSegment(e,n,i,r,s,o){return q(n).pipe(Rt(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(tt(c=>{if(c instanceof rn)return v(null);throw c}))),ve(a=>!!a),tt(a=>{if(Ka(a))return md(i,r,s)?v(new Br):lt(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return gd(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):lt(r):lt(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=Kr(n,r,s);if(!a)return lt(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yd&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,h).pipe(H(p=>this.processSegment(e,i,n,p.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=ud(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Q(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Q(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:p}=a,w=new tn(d,p,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,wd(i),te(i),i.component??i._loadedComponent??null,i,Id(i)),{segmentGroup:x,slicedSegments:W}=ba(n,d,h,c);if(W.length===0&&x.hasChildren())return this.processChildren(u,c,x).pipe(C(X=>X===null?null:new B(w,X)));if(c.length===0&&W.length===0)return v(new B(w,[]));let G=te(i)===s;return this.processSegment(u,c,x,W,G?y:s,!0).pipe(C(X=>new B(w,X instanceof B?[X]:[])))}))):lt(n)))}getChildConfig(e,n,i){return n.children?v({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?v({routes:n._loadedRoutes,injector:n._loadedInjector}):sd(e,n,i,this.urlSerializer).pipe(H(r=>r?this.configLoader.loadChildren(e,n).pipe(O(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):cd(n))):v({routes:[],injector:e})}};function Dd(t){t.sort((e,n)=>e.value.outlet===y?-1:n.value.outlet===y?1:e.value.outlet.localeCompare(n.value.outlet))}function Ed(t){let e=t.value.routeConfig;return e&&e.path===""}function Za(t){let e=[],n=new Set;for(let i of t){if(!Ed(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Za(i.children);e.push(new B(i.value,r))}return e.filter(i=>!n.has(i))}function wd(t){return t.data||{}}function Id(t){return t.resolve||{}}function _d(t,e,n,i,r,s){return H(o=>vd(t,e,n,i,o.extractedUrl,r,s).pipe(C(({state:a,tree:c})=>S(f({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Cd(t,e){return H(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return v(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ja(c))o.add(u);let a=0;return q(o).pipe(Rt(c=>s.has(c)?Sd(c,i,t,e):(c.data=zr(c,c.parent,t).resolve,v(void 0))),O(()=>a++),$i(1),H(c=>a===o.size?v(n):me))})}function Ja(t){let e=t.children.map(n=>Ja(n)).flat();return[t,...e]}function Sd(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Ha(r)&&(s[sn]=r.title),bd(s,t,e,i).pipe(C(o=>(t._resolvedData=o,t.data=zr(t,t.parent,n).resolve,null)))}function bd(t,e,n,i){let r=vr(t);if(r.length===0)return v({});let s={};return q(r).pipe(H(o=>Ad(t[o],e,n,i).pipe(ve(),O(a=>{s[o]=a}))),$i(1),Ro(s),tt(o=>Ka(o)?me:Tt(o)))}function Ad(t,e,n,i){let r=on(e)??i,s=vt(t,r),o=s.resolve?s.resolve(e,n):Pe(r,()=>s(e,n));return Ce(o)}function gr(t){return Q(e=>{let n=t(e);return n?q(n).pipe(C(()=>e)):v(e)})}var Xa=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===y);return r}getResolvedTitleForRoute(i){return i.data[sn]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(Td),providedIn:"root"});let t=e;return t})(),Td=(()=>{let e=class e extends Xa{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(D(Ea))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yr=new A("",{providedIn:"root",factory:()=>({})}),Zr=new A(""),Rd=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(er)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return v(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ce(i.loadComponent()).pipe(C(Qa),O(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Cn(()=>{this.componentLoaders.delete(i)})),s=new Ni(r,()=>new k).pipe(Pi());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return v({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Od(r,this.compiler,i,this.onLoadEndListener).pipe(Cn(()=>{this.childrenLoaders.delete(r)})),a=new Ni(o,()=>new k).pipe(Pi());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Od(t,e,n,i){return Ce(t.loadChildren()).pipe(C(Qa),H(r=>r instanceof Zo||Array.isArray(r)?v(r):q(e.compileModuleAsync(r))),C(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Zr,[],{optional:!0,self:!0}).flat()),{routes:o.map(qr),injector:s}}))}function Pd(t){return t&&typeof t=="object"&&"default"in t}function Qa(t){return Pd(t)?t.default:t}var Jr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(Nd),providedIn:"root"});let t=e;return t})(),Nd=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kd=new A("");var Md=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new k,this.transitionAbortSubject=new k,this.configLoader=g(Rd),this.environmentInjector=g(Sn),this.urlSerializer=g(Hr),this.rootContexts=g(Kn),this.location=g(Bt),this.inputBindingEnabled=g(Gr,{optional:!0})!==null,this.titleStrategy=g(Xa),this.options=g(Yr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Jr),this.createViewTransition=g(kd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>v(void 0),this.rootComponentType=null;let i=s=>this.events.next(new br(s)),r=s=>this.events.next(new Ar(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(S(f(f({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new V({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kt,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(et(o=>o.id!==0),C(o=>S(f({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Q(o=>{let a=!1,c=!1;return v(o).pipe(Q(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",j.SupersededByNewNavigation),me;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?S(f({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Ve(u.id,this.urlSerializer.serialize(u.rawUrl),p,wr.IgnoredSameUrlNavigation)),u.resolve(null),me}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return v(u).pipe(Q(p=>{let w=this.transitions?.getValue();return this.events.next(new Jt(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),w!==this.transitions?.getValue()?me:Promise.resolve(p)}),_d(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),O(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=S(f({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let w=new Vn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:w,source:x,restoredState:W,extras:G}=u,X=new Jt(p,this.urlSerializer.serialize(w),x,W);this.events.next(X);let _n=ja(this.rootComponentType).snapshot;return this.currentTransition=o=S(f({},u),{targetSnapshot:_n,urlAfterRedirects:w,extras:S(f({},G),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,v(o)}else{let p="";return this.events.next(new Ve(u.id,this.urlSerializer.serialize(u.extractedUrl),p,wr.IgnoredByUrlHandlingStrategy)),u.resolve(null),me}}),O(u=>{let d=new Ir(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),C(u=>(this.currentTransition=o=S(f({},u),{guards:jl(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Jl(this.environmentInjector,u=>this.events.next(u)),O(u=>{if(o.guardsResult=u.guardsResult,gt(u.guardsResult))throw Wa(this.urlSerializer,u.guardsResult);let d=new _r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),et(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",j.GuardRejected),!1)),gr(u=>{if(u.guards.canActivateChecks.length)return v(u).pipe(O(d=>{let h=new Cr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Q(d=>{let h=!1;return v(d).pipe(Cd(this.paramsInheritanceStrategy,this.environmentInjector),O({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",j.NoDataFromResolver)}}))}),O(d=>{let h=new Sr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),gr(u=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(O(w=>{h.component=w}),C(()=>{})));for(let w of h.children)p.push(...d(w));return p};return Li(d(u.targetSnapshot.root)).pipe(Ui(null),nt(1))}),gr(()=>this.afterPreactivation()),Q(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return h?q(h).pipe(C(()=>o)):v(o)}),C(u=>{let d=kl(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=S(f({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),O(()=>{this.events.next(new Qt)}),Bl(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),nt(1),O({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ko(this.transitionAbortSubject.pipe(O(u=>{throw u}))),Cn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",j.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tt(u=>{if(c=!0,qa(u))this.events.next(new _e(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Ll(u)?this.events.next(new en(u.url)):o.resolve(!1);else{this.events.next(new Xt(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return me}))}))}cancelNavigationTransition(i,r,s){let o=new _e(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fd(t){return t!==Kt}var Ld=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(xd),providedIn:"root"});let t=e;return t})(),Vr=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},xd=(()=>{let e=class e extends Vr{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ec=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>g(Ud),providedIn:"root"});let t=e;return t})(),Ud=(()=>{let e=class e extends ec{constructor(){super(...arguments),this.location=g(Bt),this.urlSerializer=g(Hr),this.options=g(Yr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Jr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new we,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ja(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Jt)this.stateMemento=this.createStateMemento();else if(i instanceof Ve)this.rawUrlTree=r.initialUrl;else if(i instanceof Vn){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Qt?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof _e&&(i.code===j.GuardRejected||i.code===j.NoDataFromResolver)?this.restoreHistory(r):i instanceof Xt?this.restoreHistory(r,!0):i instanceof Ie&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=f(f({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=f(f({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gt=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gt||{});function $d(t,e){t.events.pipe(et(n=>n instanceof Ie||n instanceof _e||n instanceof Xt||n instanceof Ve),C(n=>n instanceof Ie||n instanceof Ve?Gt.COMPLETE:(n instanceof _e?n.code===j.Redirect||n.code===j.SupersededByNewNavigation:!1)?Gt.REDIRECTING:Gt.FAILED),et(n=>n!==Gt.REDIRECTING),nt(1)).subscribe(()=>{e()})}function Bd(t){throw t}var jd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Rn),this.stateManager=g(ec),this.options=g(Yr,{optional:!0})||{},this.pendingTasks=g(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Md),this.urlSerializer=g(Hr),this.location=g(Bt),this.urlHandlingStrategy=g(Jr),this._events=new k,this.errorHandler=this.options.errorHandler||Bd,this.navigated=!1,this.routeReuseStrategy=g(Ld),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Zr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Gr,{optional:!0}),this.eventsSubscription=new Io,this.isNgZoneEnabled=g(R)instanceof R&&R.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _e&&r.code!==j.Redirect&&r.code!==j.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ie)this.navigated=!0;else if(r instanceof en){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Fd(s.source)};this.scheduleNavigation(a,Kt,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}zd(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=f({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(qr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=f(f({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let w=s?s.snapshot:this.routerState.snapshot.root;p=xa(w)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),p=this.currentUrlTree.root}return Ua(p,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=gt(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Kt,null,r)}navigate(i,r={skipLocationChange:!1}){return Hd(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=f({},jd):r===!1?s=f({},Vd):s=r,gt(i))return Ia(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Ia(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((p,w)=>{c=p,u=w});let h=this.pendingTasks.add();return $d(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hd(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function zd(t){return!(t instanceof Qt)&&!(t instanceof en)}var Wv=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new k,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Ie&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:Go(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(M(Xr),M(He),zi("tabindex"),M(An),M(Mt),M(ut))},e.\u0275dir=it({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Le("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Me("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",$t],skipLocationChange:[Pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",$t],replaceUrl:[Pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",$t],routerLink:"routerLink"},standalone:!0,features:[Yi,bn]});let t=e;return t})();var Wd=new A("");function Gv(t,...e){return kt([{provide:Zr,multi:!0,useValue:t},[],{provide:He,useFactory:Gd,deps:[Xr]},{provide:ta,multi:!0,useFactory:qd},e.map(n=>n.\u0275providers)])}function Gd(t){return t.routerState.root}function qd(){let t=g(K);return e=>{let n=t.get(Ue);if(e!==n.components[0])return;let i=t.get(Xr),r=t.get(Kd);t.get(Yd)===1&&i.initialNavigation(),t.get(Zd,null,Bi.Optional)?.setUpPreloading(),t.get(Wd,null,Bi.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Kd=new A("",{factory:()=>new k}),Yd=new A("",{providedIn:"root",factory:()=>1});var Zd=new A("");var ze=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ze||{}),Yv="*";function ic(t,e){return{type:ze.Trigger,name:t,definitions:e,options:{}}}function Qr(t,e=null){return{type:ze.Animate,styles:e,timings:t}}function Zv(t,e=null){return{type:ze.Sequence,steps:t,options:e}}function Zn(t){return{type:ze.Style,styles:t,offset:null}}function Jn(t,e,n){return{type:ze.State,name:t,styles:e,options:n}}function es(t,e,n=null){return{type:ze.Transition,expr:t,animation:e,options:n}}var tc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},nc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Jv="!";var rc=["toast-component",""];function Jd(t,e){if(t&1){let n=Xi();Y(0,"button",5),Le("click",function(){ji(n);let r=$();return Vi(r.remove())}),Y(1,"span",6),le(2,"\xD7"),ue()()}}function Xd(t,e){if(t&1&&(Zi(0),le(1),Ji()),t&2){let n=$(2);T(),xe("[",n.duplicatesCount+1,"]")}}function Qd(t,e){if(t&1&&(Y(0,"div"),le(1),Ft(2,Xd,2,1,"ng-container",4),ue()),t&2){let n=$();ce(n.options.titleClass),Me("aria-label",n.title),T(),xe(" ",n.title," "),T(),L("ngIf",n.duplicatesCount)}}function eh(t,e){if(t&1&&Fe(0,"div",7),t&2){let n=$();ce(n.options.messageClass),L("innerHTML",n.message,Ki)}}function th(t,e){if(t&1&&(Y(0,"div",8),le(1),ue()),t&2){let n=$();ce(n.options.messageClass),Me("aria-label",n.message),T(),xe(" ",n.message," ")}}function nh(t,e){if(t&1&&(Y(0,"div"),Fe(1,"div",9),ue()),t&2){let n=$();T(),ot("width",n.width+"%")}}function ih(t,e){if(t&1){let n=Xi();Y(0,"button",5),Le("click",function(){ji(n);let r=$();return Vi(r.remove())}),Y(1,"span",6),le(2,"\xD7"),ue()()}}function rh(t,e){if(t&1&&(Zi(0),le(1),Ji()),t&2){let n=$(2);T(),xe("[",n.duplicatesCount+1,"]")}}function sh(t,e){if(t&1&&(Y(0,"div"),le(1),Ft(2,rh,2,1,"ng-container",4),ue()),t&2){let n=$();ce(n.options.titleClass),Me("aria-label",n.title),T(),xe(" ",n.title," "),T(),L("ngIf",n.duplicatesCount)}}function oh(t,e){if(t&1&&Fe(0,"div",7),t&2){let n=$();ce(n.options.messageClass),L("innerHTML",n.message,Ki)}}function ah(t,e){if(t&1&&(Y(0,"div",8),le(1),ue()),t&2){let n=$();ce(n.options.messageClass),Me("aria-label",n.message),T(),xe(" ",n.message," ")}}function ch(t,e){if(t&1&&(Y(0,"div"),Fe(1,"div",9),ue()),t&2){let n=$();T(),ot("width",n.width+"%")}}var ts=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ns=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},is=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new k;_activate=new k;_manualClose=new k;_resetTimeout=new k;_countDuplicate=new k;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},yt=class{toastId;config;message;title;toastType;toastRef;_onTap=new k;_onAction=new k;constructor(e,n,i,r,s,o){this.toastId=e,this.config=n,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},sc={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},oc=new A("ToastConfig"),rs=class extends ns{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(e,n){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},uh=(()=>{class t{_document=g(F);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ss=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},lh=(()=>{class t{_overlayContainer=g(uh);_componentFactoryResolver=g(Ko);_appRef=g(Ue);_document=g(F);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(n),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(n){return new rs(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new ss(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ac=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=f(f({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=f(f({},n.default.iconClasses),n.config.iconClasses))}show(n,i,r={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(r))}success(n,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}error(n,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}info(n,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}warning(n,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(n="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(n={}){return f(f({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,r,s)):this._buildNotification(n,i,r,s)}_buildNotification(n,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&s.enableHtml&&(u=this.sanitizer.sanitize(ae.HTML,i));let d=new is(c),h=new yt(this.index,s,u,r,n,d),p=[{provide:yt,useValue:h}],w=K.create({providers:p,parent:this._injector}),x=new ts(s.toastComponent,w),W=c.attach(x,s.newestOnTop);d.componentInstance=W.instance;let G={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:W};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{G.toastRef.activate()})),this.toasts.push(G),G}static \u0275fac=function(i){return new(i||t)(D(oc),D(lh),D(K),D(dr),D(R))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dh=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=S(f({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=S(f({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=S(f({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||t)(M(ac),M(yt),M(R))};static \u0275cmp=Nt({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&Le("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Qo("@flyInOut",r.state),ce(r.toastClasses),ot("display",r.displayStyle))},standalone:!0,features:[Lt],attrs:rc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Ft(0,Jd,3,0,"button",0)(1,Qd,3,5,"div",1)(2,eh,1,3,"div",2)(3,th,2,4,"div",3)(4,nh,2,2,"div",4),i&2&&(L("ngIf",r.options.closeButton),T(),L("ngIf",r.title),T(),L("ngIf",r.message&&r.options.enableHtml),T(),L("ngIf",r.message&&!r.options.enableHtml),T(),L("ngIf",r.options.progressBar))},dependencies:[nr],encapsulation:2,data:{animation:[ic("flyInOut",[Jn("inactive",Zn({opacity:0})),Jn("active",Zn({opacity:1})),Jn("removed",Zn({opacity:0})),es("inactive => active",Qr("{{ easeTime }}ms {{ easing }}")),es("active => removed",Qr("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),hh=S(f({},sc),{toastComponent:dh}),ly=(t={})=>kt([{provide:oc,useValue:{default:hh,config:t}}]);var fh=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(M(ac),M(yt),M(Ue))};static \u0275cmp=Nt({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&Le("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(ce(r.toastClasses),ot("display",r.displayStyle))},standalone:!0,features:[Lt],attrs:rc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Ft(0,ih,3,0,"button",0)(1,sh,3,5,"div",1)(2,oh,1,3,"div",2)(3,ah,2,4,"div",3)(4,ch,2,2,"div",4),i&2&&(L("ngIf",r.options.closeButton),T(),L("ngIf",r.title),T(),L("ngIf",r.message&&r.options.enableHtml),T(),L("ngIf",r.message&&!r.options.enableHtml),T(),L("ngIf",r.options.progressBar))},dependencies:[nr],encapsulation:2})}return t})(),dy=S(f({},sc),{toastComponent:fh});var uc=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ph=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|u>>6,w=u&63;c||(w=64,o||(p=64)),i.push(n[d],n[h],n[p],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uc(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ph(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new as;let p=s<<2|a>>4;if(i.push(p),u!==64){let w=a<<4&240|u>>2;if(i.push(w),h!==64){let x=u<<6&192|h;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},as=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gh=function(t){let e=uc(t);return lc.encodeByteArray(e,!0)},cn=function(t){return gh(t).replace(/\./g,"")},us=function(t){try{return lc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vh=()=>mh().__FIREBASE_DEFAULTS__,yh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dh=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&us(t[1]);return e&&JSON.parse(e)},Qn=()=>{try{return vh()||yh()||Dh()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ls=t=>{var e,n;return(n=(e=Qn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},py=t=>{let e=ls(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ds=()=>{var t;return(t=Qn())===null||t===void 0?void 0:t.config},hs=t=>{var e;return(e=Qn())===null||e===void 0?void 0:e[`_${t}`]};var Xn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function gy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cn(JSON.stringify(n)),cn(JSON.stringify(o)),""].join(".")}function N(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())}function Eh(){var t;let e=(t=Qn())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hc(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pc(){let t=N();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function my(){return!Eh()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gc(){try{return typeof indexedDB=="object"}catch{return!1}}function mc(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var wh="FirebaseError",Z=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=wh,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}},de=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Ih(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Z(r,a,i)}};function Ih(t,e){return t.replace(_h,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var _h=/\{\$([^}]+)}/g;function vc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dt(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(cc(s)&&cc(o)){if(!Dt(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function cc(t){return t!==null&&typeof t=="object"}function un(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Et(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function wt(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yc(t,e){let n=new cs(t,e);return n.subscribe.bind(n)}var cs=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Ch(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=os),r.error===void 0&&(r.error=os),r.complete===void 0&&(r.complete=os);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ch(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function os(){}var vy=4*60*60*1e3;function he(t){return t&&t._delegate?t._delegate:t}var ne=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var We="[DEFAULT]";var fs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Xn;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bh(e))try{this.getOrInitializeService({instanceIdentifier:We})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=We){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=We){return this.instances.has(e)}getOptions(e=We){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sh(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=We){return this.component?this.component.multipleInstances?e:We:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sh(t){return t===We?void 0:t}function bh(t){return t.instantiationMode==="EAGER"}var ei=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Ah=[],_=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_||{}),Th={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},Rh=_.INFO,Oh={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Ph=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=Oh[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},It=class{constructor(e){this.name=e,this._logLevel=Rh,this._logHandler=Ph,this._userLogHandler=null,Ah.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Th[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...e),this._logHandler(this,_.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...e),this._logHandler(this,_.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_.INFO,...e),this._logHandler(this,_.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_.WARN,...e),this._logHandler(this,_.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...e),this._logHandler(this,_.ERROR,...e)}};var Nh=(t,e)=>e.some(n=>t instanceof n),Dc,Ec;function kh(){return Dc||(Dc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mh(){return Ec||(Ec=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wc=new WeakMap,gs=new WeakMap,Ic=new WeakMap,ps=new WeakMap,vs=new WeakMap;function Fh(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ie(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wc.set(n,t)}).catch(()=>{}),vs.set(e,t),e}function Lh(t){if(gs.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gs.set(t,e)}var ms={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gs.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ic.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ie(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _c(t){ms=t(ms)}function xh(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(ti(this),e,...n);return Ic.set(i,e.sort?e.sort():[e]),ie(i)}:Mh().includes(t)?function(...e){return t.apply(ti(this),e),ie(wc.get(this))}:function(...e){return ie(t.apply(ti(this),e))}}function Uh(t){return typeof t=="function"?xh(t):(t instanceof IDBTransaction&&Lh(t),Nh(t,kh())?new Proxy(t,ms):t)}function ie(t){if(t instanceof IDBRequest)return Fh(t);if(ps.has(t))return ps.get(t);let e=Uh(t);return e!==t&&(ps.set(t,e),vs.set(e,t)),e}var ti=t=>vs.get(t);function Sc(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=ie(o);return i&&o.addEventListener("upgradeneeded",c=>{i(ie(o.result),c.oldVersion,c.newVersion,ie(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var $h=["get","getKey","getAll","getAllKeys","count"],Bh=["put","add","delete","clear"],ys=new Map;function Cc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ys.get(e))return ys.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Bh.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$h.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return ys.set(e,s),s}_c(t=>S(f({},t),{get:(e,n,i)=>Cc(e,n)||t.get(e,n,i),has:(e,n)=>!!Cc(e,n)||t.has(e,n)}));var Es=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jh(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function jh(t){let e=t.getComponent();return e?.type==="VERSION"}var ws="@firebase/app",bc="0.10.2";var Ge=new It("@firebase/app"),Vh="@firebase/app-compat",Hh="@firebase/analytics-compat",zh="@firebase/analytics",Wh="@firebase/app-check-compat",Gh="@firebase/app-check",qh="@firebase/auth",Kh="@firebase/auth-compat",Yh="@firebase/database",Zh="@firebase/database-compat",Jh="@firebase/functions",Xh="@firebase/functions-compat",Qh="@firebase/installations",ef="@firebase/installations-compat",tf="@firebase/messaging",nf="@firebase/messaging-compat",rf="@firebase/performance",sf="@firebase/performance-compat",of="@firebase/remote-config",af="@firebase/remote-config-compat",cf="@firebase/storage",uf="@firebase/storage-compat",lf="@firebase/firestore",df="@firebase/firestore-compat",hf="firebase",ff="10.11.1";var Is="[DEFAULT]",pf={[ws]:"fire-core",[Vh]:"fire-core-compat",[zh]:"fire-analytics",[Hh]:"fire-analytics-compat",[Gh]:"fire-app-check",[Wh]:"fire-app-check-compat",[qh]:"fire-auth",[Kh]:"fire-auth-compat",[Yh]:"fire-rtdb",[Zh]:"fire-rtdb-compat",[Jh]:"fire-fn",[Xh]:"fire-fn-compat",[Qh]:"fire-iid",[ef]:"fire-iid-compat",[tf]:"fire-fcm",[nf]:"fire-fcm-compat",[rf]:"fire-perf",[sf]:"fire-perf-compat",[of]:"fire-rc",[af]:"fire-rc-compat",[cf]:"fire-gcs",[uf]:"fire-gcs-compat",[lf]:"fire-fst",[df]:"fire-fst-compat","fire-js":"fire-js",[hf]:"fire-js-all"};var ln=new Map,gf=new Map,_s=new Map;function Ac(t,e){try{t.container.addComponent(e)}catch(n){Ge.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _t(t){let e=t.name;if(_s.has(e))return Ge.debug(`There were multiple attempts to register component ${e}.`),!1;_s.set(e,t);for(let n of ln.values())Ac(n,t);for(let n of gf.values())Ac(n,t);return!0}function As(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function J(t){return t.settings!==void 0}var mf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Se=new de("app","Firebase",mf);var Cs=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ne("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Se.create("app-deleted",{appName:this._name})}};var Ct=ff;function Ts(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Is,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Se.create("bad-app-name",{appName:String(r)});if(n||(n=ds()),!n)throw Se.create("no-options");let s=ln.get(r);if(s){if(Dt(n,s.options)&&Dt(i,s.config))return s;throw Se.create("duplicate-app",{appName:r})}let o=new ei(r);for(let c of _s.values())o.addComponent(c);let a=new Cs(n,i,o);return ln.set(r,a),a}function ni(t=Is){let e=ln.get(t);if(!e&&t===Is&&ds())return Ts();if(!e)throw Se.create("no-app",{appName:t});return e}function ii(){return Array.from(ln.values())}function U(t,e,n){var i;let r=(i=pf[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ge.warn(a.join(" "));return}_t(new ne(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var vf="firebase-heartbeat-database",yf=1,dn="firebase-heartbeat-store",Ds=null;function Pc(){return Ds||(Ds=Sc(vf,yf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dn)}catch(n){console.warn(n)}}}}).catch(t=>{throw Se.create("idb-open",{originalErrorMessage:t.message})})),Ds}function Df(t){return l(this,null,function*(){try{let n=(yield Pc()).transaction(dn),i=yield n.objectStore(dn).get(Nc(t));return yield n.done,i}catch(e){if(e instanceof Z)Ge.warn(e.message);else{let n=Se.create("idb-get",{originalErrorMessage:e?.message});Ge.warn(n.message)}}})}function Tc(t,e){return l(this,null,function*(){try{let i=(yield Pc()).transaction(dn,"readwrite");yield i.objectStore(dn).put(e,Nc(t)),yield i.done}catch(n){if(n instanceof Z)Ge.warn(n.message);else{let i=Se.create("idb-set",{originalErrorMessage:n?.message});Ge.warn(i.message)}}})}function Nc(t){return`${t.name}!${t.options.appId}`}var Ef=1024,wf=30*24*60*60*1e3,Ss=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bs(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rc();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=wf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Rc(),{heartbeatsToSend:i,unsentEntries:r}=If(this._heartbeatsCache.heartbeats),s=cn(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Rc(){return new Date().toISOString().substring(0,10)}function If(t,e=Ef){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Oc(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Oc(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var bs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return gc()?mc().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Df(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Tc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Tc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Oc(t){return cn(JSON.stringify({version:2,heartbeats:t})).length}function _f(t){_t(new ne("platform-logger",e=>new Es(e),"PRIVATE")),_t(new ne("heartbeat",e=>new Ss(e),"PRIVATE")),U(ws,bc,t),U(ws,bc,"esm2017"),U("fire-js","")}_f("");var Cf="firebase",Sf="10.11.1";U(Cf,Sf,"app");var hn=new xt("ANGULARFIRE2_VERSION");function kc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Os=(t,e)=>{let n=e?[e]:ii(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ri=class{constructor(){return Os(bf)}},bf="app-check";function St(){}var si=class{zone;delegate;constructor(e,n=So){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Rs=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",St,{},St,St)),n.pipe(O({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new si(Zone.current)),this.insideAngular=n.run(()=>new si(Zone.current,Co)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(D(R))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ai(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Af(t){return ai().ngZone.runOutsideAngular(()=>t())}function qe(t){return ai().ngZone.run(()=>t())}function Tf(t){return Rf(ai())(t)}function Rf(t){return function(n){return n=n.lift(new Rs(t.ngZone)),n.pipe(Fi(t.outsideAngular),Mi(t.insideAngular))}}var Of=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qe(()=>t.apply(void 0,i))},Ke=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=qe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",St,{},St,St))),i[s]=Of(i[s],n));let r=Af(()=>t.apply(this,i));if(!e)if(r instanceof Oi){let s=ai();return r.pipe(Fi(s.outsideAngular),Mi(s.insideAngular))}else return qe(()=>r);return r instanceof Oi?r.pipe(Tf):r instanceof Promise?qe(()=>new Promise((s,o)=>r.then(a=>qe(()=>s(a)),a=>qe(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:qe(()=>r)};var Ye=class{constructor(e){return e}},fn=class{constructor(){return ii()}};function Pf(t){return t&&t.length===1?t[0]:new Ye(ni())}var Ps=new A("angularfire2._apps"),Nf={provide:Ye,useFactory:Pf,deps:[[new oe,Ps]]},kf={provide:fn,deps:[[new oe,Ps]]};function Mf(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ye(i)}}var Ff=(()=>{class t{constructor(n){U("angularfire",hn.full,"core"),U("angularfire",hn.full,"app"),U("angular",ea.full,n.toString())}static \u0275fac=function(i){return new(i||t)(D(Ee))};static \u0275mod=De({type:t});static \u0275inj=ye({providers:[Nf,kf]})}return t})();function t0(t,...e){return{ngModule:Ff,providers:[{provide:Ps,useFactory:Mf(t),multi:!0,deps:[R,K,oi,...e]}]}}var n0=Ke(Ts,!0);function Zc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Jc=Zc,Xc=new de("auth","Firebase",Zc());var fi=new It("@firebase/auth");function Lf(t,...e){fi.logLevel<=_.WARN&&fi.warn(`Auth (${Ct}): ${t}`,...e)}function ui(t,...e){fi.logLevel<=_.ERROR&&fi.error(`Auth (${Ct}): ${t}`,...e)}function se(t,...e){throw eo(t,...e)}function Ze(t,...e){return eo(t,...e)}function Qc(t,e,n){let i=Object.assign(Object.assign({},Jc()),{[e]:n});return new de("auth","Firebase",i).create(e,{appName:t.name})}function ge(t){return Qc(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eo(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Xc.create(t,...e)}function m(t,e,...n){if(!t)throw eo(e,...n)}function fe(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ui(e),new Error(e)}function Ae(t,e){t||fe(e)}function Fs(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xf(){return Mc()==="http:"||Mc()==="https:"}function Mc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Uf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xf()||hc()||"connection"in navigator)?navigator.onLine:!0}function $f(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Je=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ae(n>e,"Short delay should be less than long delay!"),this.isMobile=dc()||fc()}get(){return Uf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function to(t,e){Ae(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var pi=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Bf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jf=new Je(3e4,6e4);function Te(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Re(s,o,a,c){return l(this,arguments,function*(t,e,n,i,r={}){return eu(t,r,()=>l(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let h=un(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),pi.fetch()(tu(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))}))})}function eu(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Bf),e);try{let r=new Ls(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ci(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ci(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ci(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ci(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qc(t,d,u);se(t,d)}}catch(r){if(r instanceof Z)throw r;se(t,"network-request-failed",{message:String(r)})}})}function wn(s,o,a,c){return l(this,arguments,function*(t,e,n,i,r={}){let u=yield Re(t,e,n,i,r);return"mfaPendingCredential"in u&&se(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function tu(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?to(t.config,r):`${t.config.apiScheme}://${r}`}function Vf(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ls=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ze(this.auth,"network-request-failed")),jf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ci(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Ze(t,e,i);return r.customData._tokenResponse=n,r}function Fc(t){return t!==void 0&&t.enterprise!==void 0}var xs=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vf(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Hf(t,e){return l(this,null,function*(){return Re(t,"GET","/v2/recaptchaConfig",Te(t,e))})}function zf(t,e){return l(this,null,function*(){return Re(t,"POST","/v1/accounts:delete",e)})}function nu(t,e){return l(this,null,function*(){return Re(t,"POST","/v1/accounts:lookup",e)})}function pn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function no(t,e=!1){return l(this,null,function*(){let n=he(t),i=yield n.getIdToken(e),r=io(i);m(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:pn(Ns(r.auth_time)),issuedAtTime:pn(Ns(r.iat)),expirationTime:pn(Ns(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ns(t){return Number(t)*1e3}function io(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ui("JWT malformed, contained fewer than 3 sections"),null;try{let r=us(n);return r?JSON.parse(r):(ui("Failed to decode base64 JWT payload"),null)}catch(r){return ui("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lc(t){let e=io(t);return m(e,"internal-error"),m(typeof e.exp<"u","internal-error"),m(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Z&&Wf(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Wf({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Us=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vn=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gi(t){return l(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield mn(t,nu(n,{idToken:i}));m(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iu(s.providerUserInfo):[],a=Gf(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function ro(t){return l(this,null,function*(){let e=he(t);yield gi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Gf(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function iu(t){return t.map(e=>{var{providerId:n}=e,i=ki(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function qf(t,e){return l(this,null,function*(){let n=yield eu(t,{},()=>l(this,null,function*(){let i=un({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=tu(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pi.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Kf(t,e){return l(this,null,function*(){return Re(t,"POST","/v2/accounts:revokeToken",Te(t,e))})}var gn=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(typeof e.idToken<"u","internal-error"),m(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){m(e.length!==0,"internal-error");let n=Lc(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return l(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(m(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield qf(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(m(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(m(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(m(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return fe("not implemented")}};function be(t,e){m(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var bt=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ki(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Us(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield mn(this,this.stsTokenManager.getToken(this.auth,e));return m(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return no(this,e)}reload(){return ro(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield gi(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(J(this.auth.app))return Promise.reject(ge(this.auth));let e=yield this.getIdToken();return yield mn(this,zf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let h=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,W=(a=n.tenantId)!==null&&a!==void 0?a:void 0,G=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,X=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_n=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Ai,emailVerified:Do,isAnonymous:Eo,providerData:Ti,stsTokenManager:wo}=n;m(Ai&&wo,e,"internal-error");let Tu=gn.fromJSON(this.name,wo);m(typeof Ai=="string",e,"internal-error"),be(h,e.name),be(p,e.name),m(typeof Do=="boolean",e,"internal-error"),m(typeof Eo=="boolean",e,"internal-error"),be(w,e.name),be(x,e.name),be(W,e.name),be(G,e.name),be(X,e.name),be(_n,e.name);let Ri=new t({uid:Ai,auth:e,email:p,emailVerified:Do,displayName:h,isAnonymous:Eo,photoURL:x,phoneNumber:w,tenantId:W,stsTokenManager:Tu,createdAt:X,lastLoginAt:_n});return Ti&&Array.isArray(Ti)&&(Ri.providerData=Ti.map(Ru=>Object.assign({},Ru))),G&&(Ri._redirectEventId=G),Ri}static _fromIdTokenResponse(e,n,i=!1){return l(this,null,function*(){let r=new gn;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield gi(s),s})}static _fromGetAccountInfoResponse(e,n,i){return l(this,null,function*(){let r=n.users[0];m(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?iu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new gn;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var xc=new Map;function pe(t){Ae(t instanceof Function,"Expected a class definition");let e=xc.get(t);return e?(Ae(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xc.set(t,e),e)}var Yf=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,i){return l(this,null,function*(){this.storage[n]=i})}_get(n){return l(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),$s=Yf;function li(t,e,n){return`firebase:${t}:${e}:${n}`}var mi=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=li(this.userKey,r.apiKey,s),this.fullPersistenceKey=li("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?bt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return l(this,null,function*(){if(!n.length)return new t(pe($s),e,i);let r=(yield Promise.all(n.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||pe($s),o=li(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=bt._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function Uc(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ou(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ru(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cu(e))return"Blackberry";if(uu(e))return"Webos";if(so(e))return"Safari";if((e.includes("chrome/")||su(e))&&!e.includes("edge/"))return"Chrome";if(au(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ru(t=N()){return/firefox\//i.test(t)}function so(t=N()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function su(t=N()){return/crios\//i.test(t)}function ou(t=N()){return/iemobile/i.test(t)}function au(t=N()){return/android/i.test(t)}function cu(t=N()){return/blackberry/i.test(t)}function uu(t=N()){return/webos/i.test(t)}function Ci(t=N()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zf(t=N()){var e;return Ci(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jf(){return pc()&&document.documentMode===10}function lu(t=N()){return Ci(t)||au(t)||uu(t)||cu(t)||/windows phone/i.test(t)||ou(t)}function Xf(){try{return!!(window&&window!==window.top)}catch{return!1}}function du(t,e=[]){let n;switch(t){case"Browser":n=Uc(N());break;case"Worker":n=`${Uc(N())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ct}/${i}`}var Bs=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Qf(n){return l(this,arguments,function*(t,e={}){return Re(t,"GET","/v2/passwordPolicy",Te(t,e))})}var ep=6,js=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ep,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Vs=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new Bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pe(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield mi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let n=yield nu(this,{idToken:e}),i=yield bt._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;if(J(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield gi(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$f()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(J(this.app))return Promise.reject(ge(this));let n=e?he(e):null;return n&&m(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return J(this.app)?Promise.reject(ge(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return J(this.app)?Promise.reject(ge(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(pe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Qf(this),n=new js(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new de("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Kf(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pe(e)||this._popupRedirectResolver;m(n,this,"argument-error"),this.redirectPersistenceManager=yield mi.create(this,[pe(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=du(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Lf(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qe(t){return he(t)}var vi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yc(n=>this.observer=n)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Si={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tp(t){Si=t}function hu(t){return Si.loadJS(t)}function np(){return Si.recaptchaEnterpriseScript}function ip(){return Si.gapiScript}function fu(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var rp="recaptcha-enterprise",sp="NO_RECAPTCHA",Hs=class{constructor(e){this.type=rp,this.auth=Qe(e)}verify(e="verify",n=!1){return l(this,null,function*(){function i(s){return l(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){Hf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new xs(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;Fc(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(sp)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Fc(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=np();c.length!==0&&(c+=a),hu(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function $c(t,e,n,i=!1){return l(this,null,function*(){let r=new Hs(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function zs(t,e,n,i){return l(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $c(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $c(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function oo(t,e){let n=As(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Dt(s,e??{}))return r;se(r,"already-initialized")}return n.initialize({options:e})}function op(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pe);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function ao(t,e,n){let i=Qe(t);m(i._canInitEmulator,i,"emulator-config-failed"),m(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=pu(e),{host:o,port:a}=ap(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||cp()}function pu(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ap(t){let e=pu(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Bc(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Bc(o)}}}function Bc(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function cp(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var yn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fe("not implemented")}_getIdTokenResponse(e){return fe("not implemented")}_linkToIdToken(e,n){return fe("not implemented")}_getReauthenticationResolver(e){return fe("not implemented")}};function up(t,e){return l(this,null,function*(){return Re(t,"POST","/v1/accounts:signUp",e)})}function lp(t,e){return l(this,null,function*(){return wn(t,"POST","/v1/accounts:signInWithPassword",Te(t,e))})}function dp(t,e){return l(this,null,function*(){return wn(t,"POST","/v1/accounts:signInWithEmailLink",Te(t,e))})}function hp(t,e){return l(this,null,function*(){return wn(t,"POST","/v1/accounts:signInWithEmailLink",Te(t,e))})}var Dn=class t extends yn{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zs(e,n,"signInWithPassword",lp);case"emailLink":return dp(e,{email:this._email,oobCode:this._password});default:se(e,"internal-error")}})}_linkToIdToken(e,n){return l(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zs(e,i,"signUpPassword",up);case"emailLink":return hp(e,{idToken:n,email:this._email,oobCode:this._password});default:se(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ks(t,e){return l(this,null,function*(){return wn(t,"POST","/v1/accounts:signInWithIdp",Te(t,e))})}function fp(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pp(t){let e=Et(wt(t)).link,n=e?Et(wt(e)).deep_link_id:null,i=Et(wt(t)).deep_link_id;return(i?Et(wt(i)).link:null)||i||n||e||t}var yi=class t{constructor(e){var n,i,r,s,o,a;let c=Et(wt(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,h=fp((r=c.mode)!==null&&r!==void 0?r:null);m(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=pp(e);try{return new t(n)}catch{return null}}};var gu=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Dn._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=yi.parseLink(i);return m(r,"argument-error"),Dn._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Di=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ws=class extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function gp(t,e){return l(this,null,function*(){return wn(t,"POST","/v1/accounts:signUp",Te(t,e))})}var At=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return l(this,null,function*(){let s=yield bt._fromIdTokenResponse(e,i,r),o=jc(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return l(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=jc(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function jc(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gs=class t extends Z{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function mu(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gs._fromErrorAndOperation(t,s,e,i):s})}function mp(t,e,n=!1){return l(this,null,function*(){let i=yield mn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return At._forOperation(t,"link",i)})}function vp(t,e,n=!1){return l(this,null,function*(){let{auth:i}=t;if(J(i.app))return Promise.reject(ge(i));let r="reauthenticate";try{let s=yield mn(t,mu(i,r,e,t),n);m(s.idToken,i,"internal-error");let o=io(s.idToken);m(o,i,"internal-error");let{sub:a}=o;return m(t.uid===a,i,"user-mismatch"),At._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&se(i,"user-mismatch"),s}})}function vu(t,e,n=!1){return l(this,null,function*(){if(J(t.app))return Promise.reject(ge(t));let i="signIn",r=yield mu(t,i,e),s=yield At._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function co(t,e){return l(this,null,function*(){return vu(Qe(t),e)})}function yu(t){return l(this,null,function*(){let e=Qe(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function uo(t,e,n){return l(this,null,function*(){if(J(t.app))return Promise.reject(ge(t));let i=Qe(t),o=yield zs(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gp).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&yu(t),c}),a=yield At._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function lo(t,e,n){return J(t.app)?Promise.reject(ge(t)):co(he(t),gu.credential(e,n)).catch(i=>l(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&yu(t),i}))}function ho(t,e,n,i){return he(t).onIdTokenChanged(e,n,i)}function fo(t,e,n){return he(t).beforeAuthStateChanged(e,n)}function po(t){return he(t).signOut()}var Ei="__sak";var wi=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function yp(){let t=N();return so(t)||Ci(t)}var Dp=1e3,Ep=10,wp=(()=>{class t extends wi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yp()&&Xf(),this.fallbackToPolling=lu(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Jf()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Ep):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Dp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return l(this,null,function*(){yield Oe(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return l(this,null,function*(){let i=yield Oe(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return l(this,null,function*(){yield Oe(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Du=wp;var Ip=(()=>{class t extends wi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),go=Ip;function _p(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Cp=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(i.origin,o)})),u=yield _p(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Eu(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var qs=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return l(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Eu("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function re(){return window}function Sp(t){re().location.href=t}function wu(){return typeof re().WorkerGlobalScope<"u"&&typeof re().importScripts=="function"}function bp(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Ap(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tp(){return wu()?self:null}var Iu="firebaseLocalStorageDb",Rp=1,Ii="firebaseLocalStorage",_u="fbase_key",Xe=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function bi(t,e){return t.transaction([Ii],e?"readwrite":"readonly").objectStore(Ii)}function Op(){let t=indexedDB.deleteDatabase(Iu);return new Xe(t).toPromise()}function Ks(){let t=indexedDB.open(Iu,Rp);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Ii,{keyPath:_u})}catch(r){n(r)}}),t.addEventListener("success",()=>l(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Ii)?e(i):(i.close(),yield Op(),e(yield Ks()))}))})}function Vc(t,e,n){return l(this,null,function*(){let i=bi(t,!0).put({[_u]:e,value:n});return new Xe(i).toPromise()})}function Pp(t,e){return l(this,null,function*(){let n=bi(t,!1).get(e),i=yield new Xe(n).toPromise();return i===void 0?null:i.value})}function Hc(t,e){let n=bi(t,!0).delete(e);return new Xe(n).toPromise()}var Np=800,kp=3,Mp=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Ks(),this.db)})}_withRetries(n){return l(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>kp)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return wu()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Cp._getInstance(Tp()),this.receiver._subscribe("keyChanged",(n,i)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,i;if(this.activeServiceWorker=yield bp(),!this.activeServiceWorker)return;this.sender=new qs(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Ap()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ks();return yield Vc(n,Ei,"1"),yield Hc(n,Ei),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Vc(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let i=yield this._withRetries(r=>Pp(r,n));return this.localCache[n]=i,i})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Hc(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=bi(s,!1).getAll();return new Xe(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Np)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Cu=Mp;var l0=fu("rcb"),d0=new Je(3e4,6e4);function Fp(t,e){return e?pe(e):(m(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var En=class extends yn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Lp(t){return vu(t.auth,new En(t),t.bypassAuthState)}function xp(t){let{auth:e,user:n}=t;return m(n,e,"internal-error"),vp(n,new En(t),t.bypassAuthState)}function Up(t){return l(this,null,function*(){let{auth:e,user:n}=t;return m(n,e,"internal-error"),mp(n,new En(t),t.bypassAuthState)})}var Ys=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lp;case"linkViaPopup":case"linkViaRedirect":return Up;case"reauthViaPopup":case"reauthViaRedirect":return xp;default:se(this.auth,"internal-error")}}resolve(e){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var h0=new Je(2e3,1e4);var $p="pendingRedirect",di=new Map,Zs=class t extends Ys{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return l(this,null,function*(){let e=di.get(this.auth._key());if(!e){try{let i=(yield Bp(this.resolver,this.auth))?yield Oe(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}di.set(this.auth._key(),e)}return this.bypassAuthState||di.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Oe(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Oe(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Bp(t,e){return l(this,null,function*(){let n=Hp(e),i=Vp(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function jp(t,e){di.set(t._key(),e)}function Vp(t){return pe(t._redirectPersistence)}function Hp(t){return li($p,t.config.apiKey,t.name)}function zp(t,e,n=!1){return l(this,null,function*(){if(J(t.app))return Promise.reject(ge(t));let i=Qe(t),r=Fp(i,e),o=yield new Zs(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var Wp=10*60*1e3,Js=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gp(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Su(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ze(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wp&&this.cachedEventUids.clear(),this.cachedEventUids.has(zc(e))}saveEventToCache(e){this.cachedEventUids.add(zc(e)),this.lastProcessedEventTime=Date.now()}};function zc(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Su({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Gp(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(t);default:return!1}}function qp(n){return l(this,arguments,function*(t,e={}){return Re(t,"GET","/v1/projects",e)})}var Kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yp=/^https?/;function Zp(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield qp(t);for(let n of e)try{if(Jp(n))return}catch{}se(t,"unauthorized-domain")})}function Jp(t){let e=Fs(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Yp.test(n))return!1;if(Kp.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Xp=new Je(3e4,6e4);function Wc(){let t=re().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qp(t){return new Promise((e,n)=>{var i,r,s;function o(){Wc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wc(),n(Ze(t,"network-request-failed"))},timeout:Xp.get()})}if(!((r=(i=re().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=re().gapi)===null||s===void 0)&&s.load)o();else{let a=fu("iframefcb");return re()[a]=()=>{gapi.load?o():n(Ze(t,"network-request-failed"))},hu(`${ip()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw hi=null,e})}var hi=null;function eg(t){return hi=hi||Qp(t),hi}var tg=new Je(5e3,15e3),ng="__/auth/iframe",ig="emulator/auth/iframe",rg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function og(t){let e=t.config;m(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?to(e,ig):`https://${t.config.authDomain}/${ng}`,i={apiKey:e.apiKey,appName:t.name,v:Ct},r=sg.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${un(i).slice(1)}`}function ag(t){return l(this,null,function*(){let e=yield eg(t),n=re().gapi;return m(n,t,"internal-error"),e.open({where:document.body,url:og(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rg,dontclear:!0},i=>new Promise((r,s)=>l(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Ze(t,"network-request-failed"),a=re().setTimeout(()=>{s(o)},tg.get());function c(){re().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var cg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ug=500,lg=600,dg="_blank",hg="http://localhost",_i=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fg(t,e,n,i=ug,r=lg){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},cg),{width:i.toString(),height:r.toString(),top:s,left:o}),u=N().toLowerCase();n&&(a=su(u)?dg:n),ru(u)&&(e=e||hg,c.scrollbars="yes");let d=Object.entries(c).reduce((p,[w,x])=>`${p}${w}=${x},`,"");if(Zf(u)&&a!=="_self")return pg(e||"",a),new _i(null);let h=window.open(e||"",a,d);m(h,t,"popup-blocked");try{h.focus()}catch{}return new _i(h)}function pg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var gg="__/auth/handler",mg="emulator/auth/handler",vg=encodeURIComponent("fac");function Gc(t,e,n,i,r,s){return l(this,null,function*(){m(t.config.authDomain,t,"auth-domain-config-required"),m(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ct,eventId:r};if(e instanceof Di){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Ws){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${vg}=${encodeURIComponent(c)}`:"";return`${yg(t)}?${un(a).slice(1)}${u}`})}function yg({config:t}){return t.emulator?to(t,mg):`https://${t.authDomain}/${gg}`}var Ms="webStorageSupport",Xs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=go,this._completeRedirectFn=zp,this._overrideRedirectResult=jp}_openPopup(e,n,i,r){return l(this,null,function*(){var s;Ae((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Gc(e,n,i,Fs(),r);return fg(e,o,Eu())})}_openRedirect(e,n,i,r){return l(this,null,function*(){yield this._originValidation(e);let s=yield Gc(e,n,i,Fs(),r);return Sp(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ae(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return l(this,null,function*(){let n=yield ag(e),i=new Js(e);return n.register("authEvent",r=>(m(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ms,{type:Ms},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Ms];o!==void 0&&n(!!o),se(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zp(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lu()||so()||Ci()}},bu=Xs;var qc="@firebase/auth",Kc="1.7.2";var Qs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Dg(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Eg(t){_t(new ne("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;m(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:du(t)},u=new Vs(i,r,s,c);return op(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_t(new ne("auth-internal",e=>{let n=Qe(e.getProvider("auth").getImmediate());return(i=>new Qs(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),U(qc,Kc,Dg(t)),U(qc,Kc,"esm2017")}var wg=5*60,Ig=hs("authIdTokenMaxAge")||wg,Yc=null,_g=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ig)return;let r=n?.token;Yc!==r&&(Yc=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function mo(t=ni()){let e=As(t,"auth");if(e.isInitialized())return e.getImmediate();let n=oo(t,{popupRedirectResolver:bu,persistence:[Cu,Du,go]}),i=hs("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=_g(s.toString());fo(n,o,()=>o(n.currentUser)),ho(n,a=>o(a))}}let r=ls("auth");return r&&ao(n,`http://${r}`),n}function Cg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tp({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=Ze("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Cg().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Eg("Browser");var Au="auth",In=class{constructor(e){return e}},vo=class{constructor(){return Os(Au)}};var yo=new A("angularfire2.auth-instances");function pm(t,e){let n=kc(Au,t,e);return n&&new In(n)}function gm(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new In(i)}}var mm={provide:vo,deps:[[new oe,yo]]},vm={provide:In,useFactory:pm,deps:[[new oe,yo],Ye]},ym=(()=>{class t{constructor(){U("angularfire",hn.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=ye({providers:[vm,mm]})}return t})();function Y0(t,...e){return{ngModule:ym,providers:[{provide:yo,useFactory:gm(t),multi:!0,deps:[R,K,oi,fn,[new oe,ri],...e]}]}}var Z0=Ke(uo,!0);var J0=Ke(mo,!0);var X0=Ke(lo,!0);var Q0=Ke(po,!0);export{at as a,F as b,fa as c,pv as d,dr as e,Nl as f,Xr as g,Wv as h,Gv as i,py as j,gy as k,N as l,my as m,Z as n,he as o,ne as p,_ as q,It as r,_t as s,As as t,Ct as u,ni as v,U as w,hn as x,kc as y,Os as z,ri as A,oi as B,Ke as C,Ye as D,fn as E,t0 as F,n0 as G,In as H,vo as I,Y0 as J,Z0 as K,J0 as L,X0 as M,Q0 as N,ze as O,Yv as P,Zv as Q,Zn as R,tc as S,nc as T,Jv as U,ac as V,ly as W};
