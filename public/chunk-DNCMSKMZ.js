import{a as U}from"./chunk-DKWS7D7Q.js";import{a as A,b as D}from"./chunk-Q6DD7TMD.js";import"./chunk-EXKCJSL7.js";import{M,d as j}from"./chunk-6WCNAO4G.js";import{Ab as f,Fb as E,Oa as l,Pa as u,V as S,_ as T,ab as m,da as k,eb as x,hb as h,ib as b,jb as w,kb as P,lb as a,ma as C,mb as r,na as v,nb as d,qb as O,tb as g,ub as p,x as y,yb as c,zb as I}from"./chunk-VUEWXBX5.js";var F=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://random-flat-colors.vercel.app/api/random?count="}getRandomColor(i){let o=`${this.apiUrl}${i}`;return this.http.get(o).pipe(y(n=>n.colors))}};e.\u0275fac=function(o){return new(o||e)(T(j))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R(t,e){if(t&1&&(a(0,"h2"),c(1),r()),t&2){let s=p();l(),f("\xBFCu\xE1l era el ",s.indexToChoose," ?")}}function B(t,e){if(t&1&&(a(0,"div",9)(1,"strong"),c(2),r()()),t&2){let s=e.$implicit,i=e.$index;x("background-color",s),l(2),I(i+1)}}function H(t,e){if(t&1&&(a(0,"div",5),w(1,B,3,3,"div",8,b),r()),t&2){let s=p();l(),P(s.colores)}}function N(t,e){if(t&1){let s=O();a(0,"div",11),g("click",function(){let o=C(s).$index,n=p(2);return v(n.checkOption(o+1))}),r()}if(t&2){let s=e.$implicit;x("background-color",s)}}function G(t,e){if(t&1&&(a(0,"div",5),w(1,N,1,2,"div",10,b),r()),t&2){let s=p();l(),P(s.opcionesAdicionales)}}function q(t,e){if(t&1){let s=O();a(0,"button",12),g("click",function(){C(s);let o=p();return v(o.playAgain())}),c(1," Play Again "),r()}}var Y=(()=>{let e=class e{constructor(i,o,n){this.api=i,this.puntosService=o,this.toast=n,this.vidas=3,this.showPlayAgain=!1,this.puntos=0,this.colores=[],this.cantidadColores=5,this.colorIndex=0,this.opcionesAdicionales=[],this.showOpciones=!1,this.showOriginal=!0,this.indexToChoose=0}ngOnInit(){this.loadData(),this.showData()}loadData(){this.colores=[],this.api.getRandomColor(this.cantidadColores).subscribe(i=>{this.colores=i,this.opcionesAdicionales=this.randomSort(i)})}showData(){this.showOpciones=!1,this.showOriginal=!0,setTimeout(()=>{this.colorIndex++,this.showOpciones=!0,this.showOriginal=!1,this.indexToChoose=this.getRandomNumber(this.cantidadColores)},3e3)}getRandomNumber(i){return Math.floor(Math.random()*i)+1}randomSort(i){let o=[...i];for(let n=o.length-1;n>0;n--){let _=Math.floor(Math.random()*(n+1));[o[n],o[_]]=[o[_],o[n]]}return o}checkOption(i){i===this.indexToChoose?(this.ganaPuntos(),this.loadData(),this.showData()):this.pierdePuntos()}ganaPuntos(){this.puntos++,this.toast.success("Correcto!")}pierdePuntos(){this.vidas--,this.puntos--,this.toast.error("Fallaste!"),this.vidas==0&&this.gameOver()}gameOver(){this.sendPoints(),this.toast.info(`Game Over! Puntaje: ${this.puntos}`),this.showOpciones=!1,this.loadData(),this.showOriginal=!0,this.showPlayAgain=!0}playAgain(){this.showPlayAgain=!1,this.puntos=0,this.vidas=3,this.loadData(),this.showData()}handleSetUser(i){this.currentUser=i}sendPoints(){this.puntosService.updatePuntos(this.currentUser,this.puntos,"juego-propio")}};e.\u0275fac=function(o){return new(o||e)(u(F),u(U),u(M))},e.\u0275cmp=k({type:e,selectors:[["app-juego-propio"]],inputs:{currentUser:"currentUser"},standalone:!0,features:[E],decls:22,vars:6,consts:[[3,"sendCurrentUser"],[1,"main"],[1,"container","text-center","justify-content-center","align-items-center"],[1,"title"],[1,"juego","mx-auto"],[1,"row","row-cols-1","row-cols-md-6","g-4"],[1,"intentos"],[1,"btn","btn-danger"],[1,"color-box",3,"background-color"],[1,"color-box"],[1,"color-box-option",3,"background-color"],[1,"color-box-option",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(o,n){o&1&&(a(0,"app-header",0),g("sendCurrentUser",function(J){return n.handleSetUser(J)}),r(),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),c(5,"Maestro del Color"),r(),d(6,"br"),m(7,R,2,1,"h2"),r(),a(8,"div",4),m(9,H,3,0,"div",5),d(10,"br")(11,"br"),m(12,G,3,0,"div",5),r(),d(13,"br"),a(14,"div",6)(15,"h4"),c(16),r(),a(17,"h4"),c(18),r()(),d(19,"br"),m(20,q,2,0,"button",7),r()(),d(21,"app-footer")),o&2&&(l(7),h(7,n.showOpciones?7:-1),l(2),h(9,n.showOriginal?9:-1),l(3),h(12,n.showOpciones?12:-1),l(4),f("Puntos acumulados: ",n.puntos,""),l(2),f("Vidas: ",n.vidas,""),l(2),h(20,n.showPlayAgain?20:-1))},dependencies:[A,D],styles:[".main[_ngcontent-%COMP%]{height:100vh;background-color:#91e4f1}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.color-box[_ngcontent-%COMP%]{padding:2em;margin-right:1em}.color-box-option[_ngcontent-%COMP%]{padding:3em;margin-right:1em}.color-box-option[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();export{Y as JuegoPropioComponent};
