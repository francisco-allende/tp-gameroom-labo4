import{a as h,d as l,e as a,f,h as j,i as d,j as m,k as y}from"./chunk-CRGP55WA.js";import{V as u,_ as p,e as s}from"./chunk-DR62P47H.js";var w=(()=>{let e=class e{constructor(t){this.firestore=t,this.puntajeTotal=0}addToLogger(t){try{let o=a(this.firestore,"logs");l(o,{userEmail:t,fecha:new Date})}catch(o){console.error("Error en el add a los logs:",o)}}updatePuntajeTotal(t,o){return s(this,null,function*(){try{this.puntajeTotal+=o;let r=a(this.firestore,"puntaje-total");l(r,{userEmail:t,puntajeTotal:this.puntajeTotal,fecha:new Date})}catch(r){console.error("Error updateando el puntaje total:",r)}})}getPuntajeTotalByEmailUser(t){return s(this,null,function*(){console.log(t);let o=a(this.firestore,"puntaje-total"),r=m(o,y("userEmail","==",t),d("fecha","desc"),j(1));try{(yield f(r)).forEach(i=>{console.log(i.data().puntajeTotal),this.puntajeTotal=i.data().puntajeTotal})}catch(c){console.error("Error obteniendo el puntaje total:",c)}return this.puntajeTotal})}};e.\u0275fac=function(o){return new(o||e)(p(h))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{w as a};
