import{a as P,b}from"./chunk-VDDVFE27.js";import{a as M}from"./chunk-LWA7XIGA.js";import"./chunk-L63OU4FS.js";import"./chunk-IEDQCF33.js";import{V as v}from"./chunk-PS6SIGCY.js";import{Db as C,Na as s,Oa as m,da as p,kb as a,lb as n,mb as l,sb as c,ta as g,wb as r,xb as u,yb as f}from"./chunk-PTIACT43.js";var O=(()=>{let o=class o{constructor(t,e){this.toast=t,this._firestore=e,this.updatePuntajeTotal=new g,this.puntos=0,this.cartas=[],this.cartaActual={numero:0,palo:""},this.siguienteCarta={numero:0,palo:""},this.getRandomCarta=()=>Math.floor(Math.random()*this.cartas.length),this.esIgual=()=>this.siguienteCarta.numero==this.cartaActual.numero,this.esMayor=()=>this.siguienteCarta.numero>this.cartaActual.numero,this.esMenor=()=>this.siguienteCarta.numero<this.cartaActual.numero}sendPuntajeTotal(){this._firestore.updatePuntajeTotal(this.currentUser,this.puntos)}ngOnInit(){this.initCartas(),this.chooseRandomCarta()}handleSetUser(t){this.currentUser=t}initCartas(){let t=["basto","espada","oro","copa"];for(let e=1;e<=12;e++)for(let i of t)this.cartas.push({numero:e,palo:i})}chooseRandomCarta(){let t=this.getRandomCarta();this.mezclarMazo(this.cartas[t],t)}checkPrediction(t){let e=this.getRandomCarta();this.siguienteCarta=this.cartas[e],this.esIgual()?this.toast.warning("Cartas iguales! Continuamos con la que sigue"):t&&this.esMayor()||!t&&this.esMenor()?this.ganaPuntos():this.pierdePuntos(),this.mezclarMazo(this.siguienteCarta,e)}ganaPuntos(){this.puntos++,this.sendPuntajeTotal(),this.toast.success("Correcto!")}pierdePuntos(){this.puntos--,this.sendPuntajeTotal(),this.toast.error("Fallaste!")}mezclarMazo(t,e){this.cartaActual=t,this.cartas.splice(e,1)}getPalo(){return this.cartaActual.palo=="basto"?"\u{1F33F}":this.cartaActual.palo=="espada"?"\u{1F5E1}":this.cartaActual.palo=="oro"?"\u{1F4B0} ":"\u{1F377}"}};o.\u0275fac=function(e){return new(e||o)(m(v),m(M))},o.\u0275cmp=p({type:o,selectors:[["app-mayor-or-menor"]],inputs:{currentUser:"currentUser"},outputs:{updatePuntajeTotal:"updatePuntajeTotal"},standalone:!0,features:[C],decls:29,vars:4,consts:[[3,"sendCurrentUser"],[1,"main"],[1,"container","text-center","justify-content-center","align-items-center"],[1,"title"],[1,"juego","mx-auto"],[1,"card","border-dark","mb-3","mx-auto",2,"max-width","12rem","min-height","18rem"],[1,"card-header","text-start"],[1,"card-body","text-dark"],[1,"card-title"],[1,"card-footer","bg-transparent","border-dark-subtle","text-end"],[1,"d-flex","justify-content-evenly","align-items-center","mx-auto"],[1,"btn","btn-dark",3,"click"],[1,"btn","btn-light",3,"click"],[1,"intentos"]],template:function(e,i){e&1&&(a(0,"app-header",0),c("sendCurrentUser",function(_){return i.handleSetUser(_)}),n(),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),r(5,"Mayor o Menor"),n(),l(6,"br"),a(7,"h2"),r(8,"Carta Actual:"),n()(),a(9,"div",4)(10,"div",5)(11,"div",6),r(12),n(),a(13,"div",7)(14,"h5",8),r(15),n()(),a(16,"div",9),r(17),n()(),a(18,"div",10)(19,"button",11),c("click",function(){return i.checkPrediction(!0)}),r(20,"Mayor"),n(),a(21,"button",12),c("click",function(){return i.checkPrediction(!1)}),r(22,"Menor"),n()()(),l(23,"br"),a(24,"div",13)(25,"h4"),r(26),n()(),l(27,"br"),n()(),l(28,"app-footer")),e&2&&(s(12),u(i.getPalo()),s(3),u(i.cartaActual.numero),s(2),u(i.getPalo()),s(9),f("Puntos acumulados: ",i.puntos,""))},dependencies:[P,b],styles:[".main[_ngcontent-%COMP%]{height:100vh;background-color:#91e4f1}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.container[_ngcontent-%COMP%]{padding-top:2rem}.juego[_ngcontent-%COMP%]{width:22%}"]});let d=o;return d})();export{O as MayorOrMenorComponent};
