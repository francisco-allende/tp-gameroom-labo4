import{a as k}from"./chunk-DKWS7D7Q.js";import{a as S,b as A}from"./chunk-Q6DD7TMD.js";import"./chunk-EXKCJSL7.js";import{M as x}from"./chunk-6WCNAO4G.js";import{Ab as p,Fb as y,Oa as o,Pa as u,ab as _,da as C,db as h,hb as P,lb as a,ma as f,mb as i,na as v,nb as d,qb as M,tb as m,ub as b,yb as r,zb as l}from"./chunk-VUEWXBX5.js";function E(c,s){if(c&1){let O=M();a(0,"button",17),m("click",function(){f(O);let t=b();return v(t.playAgain())}),r(1," Play Again "),i()}}var R=(()=>{let s=class s{constructor(e,t){this.toast=e,this.puntosService=t,this.puntos=0,this.cartas=[],this.cartaActual={numero:0,palo:""},this.siguienteCarta={numero:0,palo:""},this.vidas=3,this.showPlayAgain=!1,this.getRandomCarta=()=>Math.floor(Math.random()*this.cartas.length),this.esIgual=()=>this.siguienteCarta.numero==this.cartaActual.numero,this.esMayor=()=>this.siguienteCarta.numero>this.cartaActual.numero,this.esMenor=()=>this.siguienteCarta.numero<this.cartaActual.numero}sendPuntajeTotal(){this.puntosService.updatePuntos(this.currentUser,this.puntos,"mayor-o-menor")}ngOnInit(){this.initCartas(),this.chooseRandomCarta()}handleSetUser(e){this.currentUser=e}initCartas(){let e=["basto","espada","oro","copa"];for(let t=1;t<=12;t++)for(let n of e)this.cartas.push({numero:t,palo:n})}chooseRandomCarta(){let e=this.getRandomCarta();this.mezclarMazo(this.cartas[e],e)}checkPrediction(e){let t=this.getRandomCarta();this.siguienteCarta=this.cartas[t],this.esIgual()?this.toast.warning("Cartas iguales! Continuamos con la que sigue"):e&&this.esMayor()||!e&&this.esMenor()?this.ganaPuntos():this.pierdePuntos(),this.mezclarMazo(this.siguienteCarta,t)}ganaPuntos(){this.puntos++,this.toast.success("Correcto!")}pierdePuntos(){this.vidas--,this.puntos--,this.toast.error("Fallaste!"),this.vidas==0&&this.gameOver()}mezclarMazo(e,t){this.cartaActual=e,this.cartas.splice(t,1)}getPalo(){return this.cartaActual.palo=="basto"?"\u{1F33F}":this.cartaActual.palo=="espada"?"\u{1F5E1}":this.cartaActual.palo=="oro"?"\u{1F4B0} ":"\u{1F377}"}gameOver(){this.sendPuntajeTotal(),this.toast.info(`Game Over! Puntaje: ${this.puntos}`),this.showPlayAgain=!0}playAgain(){this.showPlayAgain=!1,this.puntos=0,this.vidas=3,this.cartas=[],this.initCartas(),this.chooseRandomCarta()}};s.\u0275fac=function(t){return new(t||s)(u(x),u(k))},s.\u0275cmp=C({type:s,selectors:[["app-mayor-or-menor"]],inputs:{currentUser:"currentUser"},standalone:!0,features:[y],decls:38,vars:10,consts:[[3,"sendCurrentUser"],[1,"main"],[1,"container","text-center","justify-content-center","align-items-center"],[1,"title"],[1,"juego","mx-auto"],[1,"card","border-dark","mb-3","mx-auto",2,"max-width","12rem","min-height","18rem"],[1,"card-header"],[1,"text-start"],[1,"text-end"],[1,"card-body","text-dark"],[1,"card-title"],[1,"card-footer","border-dark-subtle"],[1,"d-flex","justify-content-evenly","align-items-center","mx-auto"],[1,"btn","btn-dark",3,"click","disabled"],[1,"btn","btn-light",3,"click","disabled"],[1,"intentos"],[1,"btn","btn-danger"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){t&1&&(a(0,"app-header",0),m("sendCurrentUser",function(w){return n.handleSetUser(w)}),i(),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),r(5,"Mayor o Menor"),i(),d(6,"br"),a(7,"h2"),r(8,"Carta Actual:"),i()(),a(9,"div",4)(10,"div",5)(11,"div",6)(12,"span",7),r(13),i(),a(14,"span",8),r(15),i()(),a(16,"div",9)(17,"h1",10),r(18),i()(),a(19,"div",11)(20,"span",7),r(21),i(),a(22,"span",8),r(23),i()()(),a(24,"div",12)(25,"button",13),m("click",function(){return n.checkPrediction(!0)}),r(26,"Mayor"),i(),a(27,"button",14),m("click",function(){return n.checkPrediction(!1)}),r(28,"Menor"),i()()(),d(29,"br"),a(30,"div",15)(31,"h4"),r(32),i(),a(33,"h4"),r(34),i()(),d(35,"br"),_(36,E,2,0,"button",16),i()(),d(37,"app-footer")),t&2&&(o(13),l(n.getPalo()),o(2),l(n.getPalo()),o(3),l(n.cartaActual.numero),o(3),l(n.getPalo()),o(2),l(n.getPalo()),o(2),h("disabled",n.showPlayAgain),o(2),h("disabled",n.showPlayAgain),o(5),p("Puntos acumulados: ",n.puntos,""),o(2),p("Vidas: ",n.vidas,""),o(2),P(36,n.showPlayAgain?36:-1))},dependencies:[S,A],styles:[".main[_ngcontent-%COMP%]{height:100vh;background-color:#91e4f1}.title[_ngcontent-%COMP%]{margin-bottom:2rem}.container[_ngcontent-%COMP%]{padding-top:2rem}.juego[_ngcontent-%COMP%]{width:22%}.card-title[_ngcontent-%COMP%]{font-size:125px}.card-header[_ngcontent-%COMP%], .card-footer[_ngcontent-%COMP%]{font-size:50px}@media (max-width: 1300px){.main[_ngcontent-%COMP%]{height:125vh}}"]});let c=s;return c})();export{R as MayorOrMenorComponent};
