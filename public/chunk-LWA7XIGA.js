import{a as p,c,d as a,e as h,g as f,h as d,i as j,j as m}from"./chunk-L63OU4FS.js";import{V as l,_ as u,e as s}from"./chunk-PTIACT43.js";var w=(()=>{let o=class o{constructor(e){this.firestore=e,this.puntajeTotal=0}addToLogger(e){try{let t=a(this.firestore,"logs");c(t,{userEmail:e,fecha:new Date})}catch(t){console.error("Error en el add a los logs:",t)}}updatePuntajeTotal(e,t){return s(this,null,function*(){try{this.puntajeTotal+=t;let r=a(this.firestore,"puntaje-total");c(r,{userEmail:e,puntajeTotal:this.puntajeTotal,fecha:new Date})}catch(r){console.error("Error updateando el puntaje total:",r)}})}getPuntajeTotalByEmailUser(e){return s(this,null,function*(){let t=a(this.firestore,"puntaje-total"),r=j(t,m("userEmail","==",e),d("fecha","desc"),f(1));try{(yield h(r)).forEach(y=>{this.puntajeTotal=y.data().puntajeTotal})}catch(i){console.error("Error obteniendo el puntaje total:",i)}return this.puntajeTotal})}};o.\u0275fac=function(t){return new(t||o)(u(p))},o.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();export{w as a};
