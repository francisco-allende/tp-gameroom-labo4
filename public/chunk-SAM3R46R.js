import{a as y,b as w}from"./chunk-DIKXK77E.js";import{a as M}from"./chunk-YAEPHWJT.js";import"./chunk-CRGP55WA.js";import"./chunk-HZOQ3BKB.js";import{V as T}from"./chunk-RF5HGZMQ.js";import{$a as h,Eb as A,Na as a,Oa as g,cb as P,da as O,gb as d,hb as C,ib as b,jb as v,kb as r,lb as o,ma as _,mb as l,na as f,pb as x,sb as u,tb as m,wb as p,xb as S,yb as F}from"./chunk-DR62P47H.js";function k(e,n){e&1&&l(0,"div",5)}function E(e,n){e&1&&l(0,"div",6)}function U(e,n){e&1&&l(0,"div",7)}function I(e,n){e&1&&l(0,"div",8)}function $(e,n){e&1&&l(0,"div",9)}function j(e,n){e&1&&l(0,"div",10)}function q(e,n){if(e&1&&(r(0,"span"),p(1),o()),e&2){let s=m().$implicit;a(),S(s)}}function V(e,n){e&1&&(r(0,"span"),p(1,"_"),o())}function Y(e,n){if(e&1&&(r(0,"span",12),h(1,q,2,1,"span")(2,V,2,0,"span"),o()),e&2){let s=n.$implicit,t=m();a(),d(1,t.letraYaSeleccionada(s)?1:-1),a(),d(2,t.letraYaSeleccionada(s)?-1:2)}}function L(e,n){if(e&1){let s=x();r(0,"button",17),u("click",function(){let c=_(s).$implicit,i=m();return f(i.seleccionarLetra(c))}),p(1),o()}if(e&2){let s=n.$implicit,t=m();P("disabled",t.letraYaSeleccionada(s)),a(),F(" ",s," ")}}function B(e,n){if(e&1){let s=x();r(0,"button",18),u("click",function(){_(s);let c=m();return f(c.playAgain())}),p(1," Play Again "),o()}}var Q=(()=>{let n=class n{constructor(t,c){this.toast=t,this._firestore=c,this.abecedario="abcdefghijklmn\xF1opqrstuvwxyz".split(""),this.palabraOculta="angular",this.letrasSeleccionadas=[],this.intentosFallidos=0,this.puntos=0,this.showPlayAgain=!1}handleSetUser(t){this.currentUser=t}seleccionarLetra(t){this.letrasSeleccionadas.push(t),this.palabraOculta.includes(t)||this.intentosFallidos++,this.evaluarJuego()}letraYaSeleccionada(t){return this.letrasSeleccionadas.includes(t)}letraCorrecta(t){return this.palabraOculta.includes(t)}evaluarJuego(){this.intentosFallidos>=6&&!this.palabraCompleta()?this.perder():this.intentosFallidos<6&&this.palabraCompleta()&&this.ganar()}palabraCompleta(){for(let t of this.palabraOculta)if(!this.letrasSeleccionadas.includes(t))return!1;return!0}ganar(){this.puntos+=10,this.toast.success(`Felicitaciones ${this.currentUser.email} ganaste ${this.puntos} puntos`),this.gameOver()}perder(){this.puntos-=5,this.toast.error(`Lo sentimos ${this.currentUser.email}, perdiste ${this.puntos} puntos`),this.gameOver()}gameOver(){this.sendPuntajeTotal(),this.showPlayAgain=!0,this.letrasSeleccionadas=this.abecedario}playAgain(){this.showPlayAgain=!1,this.puntos=0,this.palabraOculta="angular",this.letrasSeleccionadas=[],this.intentosFallidos=0}sendPuntajeTotal(){this._firestore.updatePuntajeTotal(this.currentUser,this.puntos)}};n.\u0275fac=function(c){return new(c||n)(g(T),g(M))},n.\u0275cmp=O({type:n,selectors:[["app-ahorcado"]],inputs:{currentUser:"currentUser"},standalone:!0,features:[A],decls:29,vars:8,consts:[[3,"sendCurrentUser"],[1,"main"],[1,"container","text-center","justify-content-center","align-items-center"],[1,"title"],[1,"mu\xF1eco"],[1,"cabeza"],[1,"cuerpo"],[1,"brazo-izquierdo"],[1,"brazo-derecho"],[1,"pierna-izquierda"],[1,"pierna-derecha"],[1,"palabra-oculta"],[1,"letter-to-guess"],[1,"abecedario"],[1,"letter-to-choose","btn","btn-dark",3,"disabled"],[1,"intentos"],[1,"btn","btn-danger"],[1,"letter-to-choose","btn","btn-dark",3,"click","disabled"],[1,"btn","btn-danger",3,"click"]],template:function(c,i){c&1&&(r(0,"app-header",0),u("sendCurrentUser",function(z){return i.handleSetUser(z)}),o(),r(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),p(5,"Ahorcado"),o(),l(6,"br")(7,"br"),r(8,"div",4),h(9,k,1,0,"div",5)(10,E,1,0,"div",6)(11,U,1,0,"div",7)(12,I,1,0,"div",8)(13,$,1,0,"div",9)(14,j,1,0,"div",10),o()(),r(15,"div",11),b(16,Y,3,2,"span",12,C),o(),l(18,"br"),r(19,"div",13),b(20,L,2,2,"button",14,C),o(),l(22,"br"),r(23,"div",15)(24,"h4"),p(25),o()(),l(26,"br"),h(27,B,2,0,"button",16),o()(),l(28,"app-footer")),c&2&&(a(9),d(9,i.intentosFallidos==1||i.intentosFallidos>=1?9:-1),a(),d(10,i.intentosFallidos==2||i.intentosFallidos>=2?10:-1),a(),d(11,i.intentosFallidos==3||i.intentosFallidos>=3?11:-1),a(),d(12,i.intentosFallidos==4||i.intentosFallidos>=4?12:-1),a(),d(13,i.intentosFallidos==5||i.intentosFallidos>=5?13:-1),a(),d(14,i.intentosFallidos==6||i.intentosFallidos>=6?14:-1),a(2),v(i.palabraOculta),a(4),v(i.abecedario),a(5),F("Intentos fallidos: ",i.intentosFallidos,""),a(2),d(27,i.showPlayAgain?27:-1))},dependencies:[y,w],styles:[".main[_ngcontent-%COMP%]{height:100vh;background-color:#91e4f1}.title[_ngcontent-%COMP%]{margin-bottom:4rem}.container[_ngcontent-%COMP%]{padding-top:2rem}.letter-to-guess[_ngcontent-%COMP%], .letter-to-choose[_ngcontent-%COMP%]{font-size:xx-large;margin-left:1rem;margin-top:1rem}.mu\\f1 eco[_ngcontent-%COMP%]{position:absolute;display:inline-block;margin-left:250px}.cabeza[_ngcontent-%COMP%], .cuerpo[_ngcontent-%COMP%], .brazo-izquierdo[_ngcontent-%COMP%], .brazo-derecho[_ngcontent-%COMP%], .pierna-izquierda[_ngcontent-%COMP%], .pierna-derecha[_ngcontent-%COMP%]{position:absolute;background-color:#000}.cabeza[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;top:-40px;left:50%;transform:translate(-50%)}.cuerpo[_ngcontent-%COMP%]{width:10px;height:60px;top:0;left:50%;transform:translate(-50%)}.brazo-izquierdo[_ngcontent-%COMP%]{width:60px;height:10px;top:20px;left:-10px;transform:rotate(55deg)}.brazo-derecho[_ngcontent-%COMP%]{width:60px;height:10px;top:20px;right:-10px;transform:rotate(-55deg)}.pierna-izquierda[_ngcontent-%COMP%]{width:60px;height:10px;top:80px;left:-20px;transform:rotate(65deg)}.pierna-derecha[_ngcontent-%COMP%]{width:60px;height:10px;top:80px;right:-20px;transform:rotate(-65deg)}"]});let e=n;return e})();export{Q as AhorcadoComponent};
